<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>1 Introduction to R | Financial and Actuarial Modelling in R (MATH377)</title>
  <meta name="description" content="1 Introduction to R | Financial and Actuarial Modelling in R (MATH377)" />
  <meta name="generator" content="bookdown 0.25 and GitBook 2.6.7" />

  <meta property="og:title" content="1 Introduction to R | Financial and Actuarial Modelling in R (MATH377)" />
  <meta property="og:type" content="book" />
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="1 Introduction to R | Financial and Actuarial Modelling in R (MATH377)" />
  
  
  

<meta name="author" content="Jorge Yslas" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="index.html"/>
<link rel="next" href="r-for-statistical-inference.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="index.html#preface">Preface<span></span></a></li>
<li class="chapter" data-level="1" data-path="introduction-to-r.html"><a href="introduction-to-r.html"><i class="fa fa-check"></i><b>1</b> Introduction to R<span></span></a>
<ul>
<li class="chapter" data-level="1.1" data-path="introduction-to-r.html"><a href="introduction-to-r.html#installation"><i class="fa fa-check"></i><b>1.1</b> Installation<span></span></a>
<ul>
<li class="chapter" data-level="1.1.1" data-path="introduction-to-r.html"><a href="introduction-to-r.html#installation-of-r"><i class="fa fa-check"></i><b>1.1.1</b> Installation of R<span></span></a></li>
<li class="chapter" data-level="1.1.2" data-path="introduction-to-r.html"><a href="introduction-to-r.html#installation-of-rstudio"><i class="fa fa-check"></i><b>1.1.2</b> Installation of Rstudio<span></span></a></li>
</ul></li>
<li class="chapter" data-level="1.2" data-path="introduction-to-r.html"><a href="introduction-to-r.html#r-as-a-simple-calculator"><i class="fa fa-check"></i><b>1.2</b> R as a simple calculator<span></span></a>
<ul>
<li class="chapter" data-level="1.2.1" data-path="introduction-to-r.html"><a href="introduction-to-r.html#logical-operators"><i class="fa fa-check"></i><b>1.2.1</b> Logical operators<span></span></a></li>
</ul></li>
<li class="chapter" data-level="1.3" data-path="introduction-to-r.html"><a href="introduction-to-r.html#r-objects"><i class="fa fa-check"></i><b>1.3</b> R objects<span></span></a>
<ul>
<li class="chapter" data-level="1.3.1" data-path="introduction-to-r.html"><a href="introduction-to-r.html#assignment"><i class="fa fa-check"></i><b>1.3.1</b> Assignment<span></span></a></li>
<li class="chapter" data-level="1.3.2" data-path="introduction-to-r.html"><a href="introduction-to-r.html#data-types"><i class="fa fa-check"></i><b>1.3.2</b> Data types<span></span></a></li>
</ul></li>
<li class="chapter" data-level="1.4" data-path="introduction-to-r.html"><a href="introduction-to-r.html#vectors"><i class="fa fa-check"></i><b>1.4</b> Vectors<span></span></a>
<ul>
<li class="chapter" data-level="1.4.1" data-path="introduction-to-r.html"><a href="introduction-to-r.html#accessing-vector-elements"><i class="fa fa-check"></i><b>1.4.1</b> Accessing vector elements<span></span></a></li>
<li class="chapter" data-level="1.4.2" data-path="introduction-to-r.html"><a href="introduction-to-r.html#operations-with-vectors"><i class="fa fa-check"></i><b>1.4.2</b> Operations with vectors<span></span></a></li>
</ul></li>
<li class="chapter" data-level="1.5" data-path="introduction-to-r.html"><a href="introduction-to-r.html#matrices-data-frames-and-lists"><i class="fa fa-check"></i><b>1.5</b> Matrices, data frames, and lists<span></span></a>
<ul>
<li class="chapter" data-level="1.5.1" data-path="introduction-to-r.html"><a href="introduction-to-r.html#matrices"><i class="fa fa-check"></i><b>1.5.1</b> Matrices<span></span></a></li>
<li class="chapter" data-level="1.5.2" data-path="introduction-to-r.html"><a href="introduction-to-r.html#data-frames"><i class="fa fa-check"></i><b>1.5.2</b> Data frames<span></span></a></li>
<li class="chapter" data-level="1.5.3" data-path="introduction-to-r.html"><a href="introduction-to-r.html#lists"><i class="fa fa-check"></i><b>1.5.3</b> Lists<span></span></a></li>
</ul></li>
<li class="chapter" data-level="1.6" data-path="introduction-to-r.html"><a href="introduction-to-r.html#functions"><i class="fa fa-check"></i><b>1.6</b> Functions<span></span></a></li>
<li class="chapter" data-level="1.7" data-path="introduction-to-r.html"><a href="introduction-to-r.html#packages"><i class="fa fa-check"></i><b>1.7</b> Packages<span></span></a></li>
<li class="chapter" data-level="1.8" data-path="introduction-to-r.html"><a href="introduction-to-r.html#control-statements"><i class="fa fa-check"></i><b>1.8</b> Control Statements<span></span></a>
<ul>
<li class="chapter" data-level="1.8.1" data-path="introduction-to-r.html"><a href="introduction-to-r.html#conditional-statements"><i class="fa fa-check"></i><b>1.8.1</b> Conditional statements<span></span></a></li>
<li class="chapter" data-level="1.8.2" data-path="introduction-to-r.html"><a href="introduction-to-r.html#loop-statements"><i class="fa fa-check"></i><b>1.8.2</b> Loop statements<span></span></a></li>
</ul></li>
<li class="chapter" data-level="1.9" data-path="introduction-to-r.html"><a href="introduction-to-r.html#vectorized-operations"><i class="fa fa-check"></i><b>1.9</b> Vectorized operations<span></span></a></li>
<li class="chapter" data-level="1.10" data-path="introduction-to-r.html"><a href="introduction-to-r.html#reading-and-writing-data"><i class="fa fa-check"></i><b>1.10</b> Reading and writing data<span></span></a>
<ul>
<li class="chapter" data-level="1.10.1" data-path="introduction-to-r.html"><a href="introduction-to-r.html#working-directory"><i class="fa fa-check"></i><b>1.10.1</b> Working directory<span></span></a></li>
<li class="chapter" data-level="1.10.2" data-path="introduction-to-r.html"><a href="introduction-to-r.html#writting-data"><i class="fa fa-check"></i><b>1.10.2</b> Writting data<span></span></a></li>
<li class="chapter" data-level="1.10.3" data-path="introduction-to-r.html"><a href="introduction-to-r.html#reading-data"><i class="fa fa-check"></i><b>1.10.3</b> Reading data<span></span></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="r-for-statistical-inference.html"><a href="r-for-statistical-inference.html"><i class="fa fa-check"></i><b>2</b> R for Statistical Inference<span></span></a>
<ul>
<li class="chapter" data-level="2.1" data-path="r-for-statistical-inference.html"><a href="r-for-statistical-inference.html#descriptive-statistics"><i class="fa fa-check"></i><b>2.1</b> Descriptive statistics<span></span></a>
<ul>
<li class="chapter" data-level="2.1.1" data-path="r-for-statistical-inference.html"><a href="r-for-statistical-inference.html#visual-tools"><i class="fa fa-check"></i><b>2.1.1</b> Visual tools<span></span></a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="r-for-statistical-inference.html"><a href="r-for-statistical-inference.html#probability-distributions"><i class="fa fa-check"></i><b>2.2</b> Probability distributions<span></span></a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="r-for-statistical-inference.html"><a href="r-for-statistical-inference.html#tranformations"><i class="fa fa-check"></i><b>2.2.1</b> Tranformations<span></span></a></li>
<li class="chapter" data-level="2.2.2" data-path="r-for-statistical-inference.html"><a href="r-for-statistical-inference.html#law-of-large-numbers-and-central-limit-theorem"><i class="fa fa-check"></i><b>2.2.2</b> Law of large numbers and central limit theorem<span></span></a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="r-for-statistical-inference.html"><a href="r-for-statistical-inference.html#parinf"><i class="fa fa-check"></i><b>2.3</b> Parametric inference<span></span></a>
<ul>
<li class="chapter" data-level="2.3.1" data-path="r-for-statistical-inference.html"><a href="r-for-statistical-inference.html#maximum-likelihood-estimation"><i class="fa fa-check"></i><b>2.3.1</b> Maximum likelihood estimation<span></span></a></li>
<li class="chapter" data-level="2.3.2" data-path="r-for-statistical-inference.html"><a href="r-for-statistical-inference.html#adequacy-of-the-fit"><i class="fa fa-check"></i><b>2.3.2</b> Adequacy of the fit<span></span></a></li>
<li class="chapter" data-level="2.3.3" data-path="r-for-statistical-inference.html"><a href="r-for-statistical-inference.html#other-estimation-methods"><i class="fa fa-check"></i><b>2.3.3</b> Other estimation methods<span></span></a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="r-for-statistical-inference.html"><a href="r-for-statistical-inference.html#multivariate-distributions"><i class="fa fa-check"></i><b>2.4</b> Multivariate distributions<span></span></a>
<ul>
<li class="chapter" data-level="2.4.1" data-path="r-for-statistical-inference.html"><a href="r-for-statistical-inference.html#multivariate-normal-distribution"><i class="fa fa-check"></i><b>2.4.1</b> Multivariate normal distribution<span></span></a></li>
<li class="chapter" data-level="2.4.2" data-path="r-for-statistical-inference.html"><a href="r-for-statistical-inference.html#copulas"><i class="fa fa-check"></i><b>2.4.2</b> Copulas<span></span></a></li>
<li class="chapter" data-level="2.4.3" data-path="r-for-statistical-inference.html"><a href="r-for-statistical-inference.html#constructing-multivariate-distributions-from-copulas"><i class="fa fa-check"></i><b>2.4.3</b> Constructing multivariate distributions from copulas<span></span></a></li>
<li class="chapter" data-level="2.4.4" data-path="r-for-statistical-inference.html"><a href="r-for-statistical-inference.html#dependence-measures"><i class="fa fa-check"></i><b>2.4.4</b> Dependence measures<span></span></a></li>
<li class="chapter" data-level="2.4.5" data-path="r-for-statistical-inference.html"><a href="r-for-statistical-inference.html#fitting"><i class="fa fa-check"></i><b>2.4.5</b> Fitting<span></span></a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="r-for-statistical-inference.html"><a href="r-for-statistical-inference.html#linear-regression"><i class="fa fa-check"></i><b>2.5</b> Linear regression<span></span></a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="r-for-finance.html"><a href="r-for-finance.html"><i class="fa fa-check"></i><b>3</b> R for Finance<span></span></a>
<ul>
<li class="chapter" data-level="3.1" data-path="r-for-finance.html"><a href="r-for-finance.html#market-portfolio-and-capm"><i class="fa fa-check"></i><b>3.1</b> Market portfolio and CAPM<span></span></a>
<ul>
<li class="chapter" data-level="3.1.1" data-path="r-for-finance.html"><a href="r-for-finance.html#mean-variance-portfolio"><i class="fa fa-check"></i><b>3.1.1</b> Mean-variance portfolio<span></span></a></li>
<li class="chapter" data-level="3.1.2" data-path="r-for-finance.html"><a href="r-for-finance.html#capital-asset-pricing-model-capm"><i class="fa fa-check"></i><b>3.1.2</b> Capital Asset Pricing Model (CAPM)<span></span></a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="r-for-finance.html"><a href="r-for-finance.html#the-binomial-model"><i class="fa fa-check"></i><b>3.2</b> The binomial model<span></span></a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="r-for-finance.html"><a href="r-for-finance.html#one-period-binomial-model"><i class="fa fa-check"></i><b>3.2.1</b> One-period binomial model<span></span></a></li>
<li class="chapter" data-level="3.2.2" data-path="r-for-finance.html"><a href="r-for-finance.html#multiperiod-binomial-model"><i class="fa fa-check"></i><b>3.2.2</b> Multiperiod binomial model<span></span></a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="r-for-finance.html"><a href="r-for-finance.html#the-black-and-scholes-model"><i class="fa fa-check"></i><b>3.3</b> The Black and Scholes model<span></span></a>
<ul>
<li class="chapter" data-level="3.3.1" data-path="r-for-finance.html"><a href="r-for-finance.html#preliminars-brownian-motion"><i class="fa fa-check"></i><b>3.3.1</b> Preliminars: Brownian motion<span></span></a></li>
<li class="chapter" data-level="3.3.2" data-path="r-for-finance.html"><a href="r-for-finance.html#the-black-and-scholes-formula"><i class="fa fa-check"></i><b>3.3.2</b> The Black and Scholes formula<span></span></a></li>
<li class="chapter" data-level="3.3.3" data-path="r-for-finance.html"><a href="r-for-finance.html#greeks"><i class="fa fa-check"></i><b>3.3.3</b> Greeks<span></span></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="r-for-insurance.html"><a href="r-for-insurance.html"><i class="fa fa-check"></i><b>4</b> R for Insurance<span></span></a>
<ul>
<li class="chapter" data-level="4.1" data-path="r-for-insurance.html"><a href="r-for-insurance.html#the-collective-risk-model"><i class="fa fa-check"></i><b>4.1</b> The collective risk model<span></span></a>
<ul>
<li class="chapter" data-level="4.1.1" data-path="r-for-insurance.html"><a href="r-for-insurance.html#discretization-of-claim-amount-distributions"><i class="fa fa-check"></i><b>4.1.1</b> Discretization of claim amount distributions<span></span></a></li>
<li class="chapter" data-level="4.1.2" data-path="r-for-insurance.html"><a href="r-for-insurance.html#calculation-of-the-aggregate-claim-amount-distribution"><i class="fa fa-check"></i><b>4.1.2</b> Calculation of the aggregate claim amount distribution<span></span></a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="r-for-insurance.html"><a href="r-for-insurance.html#ruin-theory"><i class="fa fa-check"></i><b>4.2</b> Ruin theory<span></span></a>
<ul>
<li class="chapter" data-level="4.2.1" data-path="r-for-insurance.html"><a href="r-for-insurance.html#the-surplus-process"><i class="fa fa-check"></i><b>4.2.1</b> The surplus process<span></span></a></li>
<li class="chapter" data-level="4.2.2" data-path="r-for-insurance.html"><a href="r-for-insurance.html#the-adjustment-coefficient"><i class="fa fa-check"></i><b>4.2.2</b> The adjustment coefficient<span></span></a></li>
<li class="chapter" data-level="4.2.3" data-path="r-for-insurance.html"><a href="r-for-insurance.html#probability-of-ruin"><i class="fa fa-check"></i><b>4.2.3</b> Probability of ruin<span></span></a></li>
<li class="chapter" data-level="4.2.4" data-path="r-for-insurance.html"><a href="r-for-insurance.html#reinsurance"><i class="fa fa-check"></i><b>4.2.4</b> Reinsurance<span></span></a></li>
</ul></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Financial and Actuarial Modelling in R (MATH377)</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="introduction-to-r" class="section level1 hasAnchor" number="1">
<h1><span class="header-section-number">1</span> Introduction to R<a href="introduction-to-r.html#introduction-to-r" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<div id="installation" class="section level2 hasAnchor" number="1.1">
<h2><span class="header-section-number">1.1</span> Installation<a href="introduction-to-r.html#installation" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>R is a free software environment for statistical computing and graphics. It compiles and runs on a wide variety of UNIX platforms, Windows and macOS. To help you write code in R, RStudio is a free application that makes the task significantly easier.
To get started, you need to acquire your own copies of these two programs.</p>
<div id="installation-of-r" class="section level3 hasAnchor" number="1.1.1">
<h3><span class="header-section-number">1.1.1</span> Installation of R<a href="introduction-to-r.html#installation-of-r" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>We start with the installation of R. The basic files for installation and packages can be found on the CRAN website, <a href="http://cran.r-project.org/" class="uri">http://cran.r-project.org/</a> as shown in Figure <a href="introduction-to-r.html#fig:cran">1.1</a> below.</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:cran"></span>
<img src="figures/cran.png" alt=" &quot;The Comprehensive R Archive Network&quot; webpage. " width="65%" />
<p class="caption">
Figure 1.1:  “The Comprehensive R Archive Network” webpage.
</p>
</div>
<p>For Windows users, click “Download R for Windows”. Then, you will obtain a screen similar to Figure <a href="introduction-to-r.html#fig:winstall">1.2</a> (left) below. Next, click the “base” link. After that, click on the link at the top of the page that should say something like “Download R 4.1.2 for Windows” (see Figure <a href="introduction-to-r.html#fig:winstall">1.2</a>, right). This will download an executable file for installation. Finally, open the executable and follow the installation wizard.</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:winstall"></span>
<img src="figures/windows_install.png" alt="Download R for Windows." width="49%" /><img src="figures/windows_install2.png" alt="Download R for Windows." width="49%" />
<p class="caption">
Figure 1.2: Download R for Windows.
</p>
</div>
<p>For macOS users, click “Download R for macOS”. This will take you to a screen similar to Figure <a href="introduction-to-r.html#fig:macinstall">1.3</a>. Then, depending on your computer, click “R-4.1.2.pkg” for Mac computers with Intel processor or “R-4.1.2-arm64.pkg” for Mac computers with Apple silicon. This will download an installation file. Finally, open the file and follow the installation steps.</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:macinstall"></span>
<img src="figures/macos_install.png" alt="Download R for macOS. " width="65%" />
<p class="caption">
Figure 1.3: Download R for macOS.
</p>
</div>
<p>If you followed the steps above, you should be able to open R. When starting R, a screen similar to Figure <a href="introduction-to-r.html#fig:rinitial">1.4</a> should appear.</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:rinitial"></span>
<img src="figures/rproject.png" alt="R console." width="65%" />
<p class="caption">
Figure 1.4: R console.
</p>
</div>
<div class="remark">
<p><span id="unlabeled-div-1" class="remark"><em>Remark</em>. </span>The steps above refer to version 4.1.2 of R, which corresponds to the most recent version at the time of writing. However, you should download the most current release of R.</p>
</div>
</div>
<div id="installation-of-rstudio" class="section level3 hasAnchor" number="1.1.2">
<h3><span class="header-section-number">1.1.2</span> Installation of Rstudio<a href="introduction-to-r.html#installation-of-rstudio" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Although the editor of R works fairly well, you should consider running R with RStudio. We will use RStudio because it makes using R much easier, and you get access to many useful functionalities. For instance, these lecture notes were written using Rstudio. To download your copy, go to the Rstudio download page <a href="https://www.rstudio.com/products/rstudio/download/" class="uri">https://www.rstudio.com/products/rstudio/download/</a>. Then, click “Download” under the heading “Rstudio Desktop” (see Figure <a href="introduction-to-r.html#fig:rstudiodown">1.5</a>, left). This will take you to a screen similar to Figure <a href="introduction-to-r.html#fig:rstudiodown">1.5</a> (right), where the top link is the installer recommended according to your system. If this is incorrect, you can select the appropriate one from the installers list. Download the installation file, open it, and follow the installation steps.</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:rstudiodown"></span>
<img src="figures/rstudio_download1.png" alt="Download Rstudio." width="49%" /><img src="figures/rstudio_download2.png" alt="Download Rstudio." width="49%" />
<p class="caption">
Figure 1.5: Download Rstudio.
</p>
</div>
<p>Test the installation by opening Rstudio. You should see a screen similar to Figure <a href="introduction-to-r.html#fig:rstudio">1.6</a>.</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:rstudio"></span>
<img src="figures/rstudio.png" alt="Rstudio." width="65%" />
<p class="caption">
Figure 1.6: Rstudio.
</p>
</div>
<div class="remark">
<p><span id="unlabeled-div-2" class="remark"><em>Remark</em>. </span>Note that, even if you use RStudio, you still need to download and install R. RStudio runs the version of R installed on your computer, and it does not come with a version of R on its own.</p>
</div>
</div>
</div>
<div id="r-as-a-simple-calculator" class="section level2 hasAnchor" number="1.2">
<h2><span class="header-section-number">1.2</span> R as a simple calculator<a href="introduction-to-r.html#r-as-a-simple-calculator" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>We will start by using R as a calculator. To run R code, go to the <strong>console</strong> tab (bottom left in the default Rstudio arrangement). You will see a <code>&gt;</code> symbol, called the <strong>prompt</strong>. Now, type <code>1 + 2</code> after the prompt and press Enter. RStudio will display:</p>
<pre><code>&gt; 1 + 2
[1] 3</code></pre>
<p>The <code>[1]</code> that appears next to your result indicates that the line starts with the first value in your result. There are commands that return more than one value, and their results may show up in multiple lines. For instance, type the command <code>10:50</code>, which produces 51 integer values from 10 to 50. You will see something like the following:</p>
<pre><code>&gt; 10:50
[1] 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32
[24] 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50</code></pre>
<p>Here, <code>[24]</code> indicates that the second line starts with the 24th value. We will come back to the <code>:</code> operator later.</p>
<p>If you type an incomplete command and hit Enter, R will display a <code>+</code> prompt. This means that R is waiting for the rest of your command. At this stage, you can finish the command and press Enter or hit the Escape key to start over.</p>
<pre><code>&gt; 2 - 
+ 3 +
+ 5
[1] 4</code></pre>
<p>In what follows, the code will be shown in this way:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="introduction-to-r.html#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span> <span class="sc">+</span> <span class="dv">2</span></span></code></pre></div>
<pre><code>## [1] 3</code></pre>
<p>Note that we no longer display the prompt, and that the results are presented after two hashtags (<code>##</code>). The reason is that this makes it easier for you to copy and paste the code into your R console.</p>
<p>Returning to using R as a calculator, Table <a href="introduction-to-r.html#tab:aoperator">1.1</a> shows the arithmetic operators available in R.</p>
<table>
<caption><span id="tab:aoperator">Table 1.1: </span>Arithmetic operators.</caption>
<tbody>
<tr class="odd">
<td align="left">Addition</td>
<td align="left">+</td>
</tr>
<tr class="even">
<td align="left">Subtraction</td>
<td align="left">-</td>
</tr>
<tr class="odd">
<td align="left">Multiplication</td>
<td align="left">*</td>
</tr>
<tr class="even">
<td align="left">Division</td>
<td align="left">/</td>
</tr>
<tr class="odd">
<td align="left">Power</td>
<td align="left">^</td>
</tr>
<tr class="even">
<td align="left">Integer division</td>
<td align="left">%/%</td>
</tr>
<tr class="odd">
<td align="left">Modulus (remainder of integer division)</td>
<td align="left">%%</td>
</tr>
</tbody>
</table>
<p>Lets now try some simple operations:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="introduction-to-r.html#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="dv">3</span><span class="sc">^</span><span class="dv">2</span> <span class="sc">+</span> <span class="dv">4</span> <span class="sc">*</span> <span class="dv">10</span></span></code></pre></div>
<pre><code>## [1] 49</code></pre>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="introduction-to-r.html#cb8-1" aria-hidden="true" tabindex="-1"></a>(<span class="dv">3</span><span class="sc">^</span><span class="dv">2</span> <span class="sc">+</span> <span class="dv">4</span>) <span class="sc">*</span> <span class="dv">10</span></span></code></pre></div>
<pre><code>## [1] 130</code></pre>
<p>You need to be aware that the precedence for arithmetic operators in R follows the BODMAS order: Brackets ( ), Orders ^, Division / and Multiplication *, Addition + and Subtraction -.</p>
<div class="remark">
<p><span id="unlabeled-div-3" class="remark"><em>Remark</em>. </span>If you want to learn more about how R gives precedence to all operators, type <code>?Syntax</code> in the console.</p>
</div>
<p>If you make a mistake in your code, R will let you know and indicate what the error is.</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="introduction-to-r.html#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="dv">3</span> <span class="sc">+</span> <span class="er">*</span></span></code></pre></div>
<pre><code>## Error: &lt;text&gt;:1:5: unexpected &#39;*&#39;
## 1: 3 + *
##         ^</code></pre>
<div class="example">
<p><span id="exm:pv" class="example"><strong>Example 1.1  </strong></span>Find the present value of an investment that gives 1 in 5 years, assuming that the interest rate is <span class="math inline">\(r=3\%\)</span> compounded annually.</p>
</div>
<div class="solution">
<p><span id="unlabeled-div-4" class="solution"><em>Solution</em>. </span><span class="math inline">\(\,\)</span></p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="introduction-to-r.html#cb12-1" aria-hidden="true" tabindex="-1"></a>(<span class="dv">1</span> <span class="sc">+</span> <span class="fl">0.03</span>)<span class="sc">^</span>(<span class="sc">-</span><span class="dv">5</span>) </span></code></pre></div>
<pre><code>## [1] 0.8626088</code></pre>
</div>
<p>R also has common constants and mathematical functions that you may need. These include the exponential and log functions <code>exp()</code> and <code>log()</code>, trigonometry functions such as <code>sin()</code> and <code>cos()</code>, among others.</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="introduction-to-r.html#cb14-1" aria-hidden="true" tabindex="-1"></a>pi</span></code></pre></div>
<pre><code>## [1] 3.141593</code></pre>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb16-1"><a href="introduction-to-r.html#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cos</span>(<span class="dv">2</span> <span class="sc">*</span> pi)</span></code></pre></div>
<pre><code>## [1] 1</code></pre>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb18-1"><a href="introduction-to-r.html#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="fu">log</span>(<span class="dv">10</span>) <span class="co"># The default option is base e</span></span></code></pre></div>
<pre><code>## [1] 2.302585</code></pre>
<p>You can look at the full description of a function in R by using the “help”. Let us try this with the <code>log()</code> function. Type <code>help(log)</code> or <code>?help</code>. This will display the documentation of the <code>log()</code> function in the tab <strong>Help</strong> (bottom right). Here, you will find out that <code>log()</code> computes by default the natural logarithm. Moreover, looking at the rest of the documentation, you will see that <code>log()</code> has <em>arguments</em> <code>log(x, base = exp(1))</code>. When calling the function, you can specify the argument names. In such a case, then the order does not matter:</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb20-1"><a href="introduction-to-r.html#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="fu">log</span>(<span class="at">x =</span> <span class="dv">4</span>, <span class="at">base =</span> <span class="dv">10</span>)</span></code></pre></div>
<pre><code>## [1] 0.60206</code></pre>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb22-1"><a href="introduction-to-r.html#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="fu">log</span>(<span class="at">base =</span> <span class="dv">10</span>, <span class="at">x =</span> <span class="dv">4</span>)</span></code></pre></div>
<pre><code>## [1] 0.60206</code></pre>
<p>However, if you do not specify the argument names, R will decide that <em>x</em> is the first argument, and <em>base</em> is the second one.</p>
<div class="sourceCode" id="cb24"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb24-1"><a href="introduction-to-r.html#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="fu">log</span>(<span class="dv">4</span>, <span class="dv">10</span>)</span></code></pre></div>
<pre><code>## [1] 0.60206</code></pre>
<div class="sourceCode" id="cb26"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb26-1"><a href="introduction-to-r.html#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="fu">log</span>(<span class="dv">10</span>, <span class="dv">4</span>)</span></code></pre></div>
<pre><code>## [1] 1.660964</code></pre>
<p>If you try to do an operation that is not mathematically defined, R will return <code>NaN</code> (Not a Number).</p>
<div class="sourceCode" id="cb28"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb28-1"><a href="introduction-to-r.html#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="fu">log</span>(<span class="sc">-</span><span class="dv">2</span>)</span></code></pre></div>
<pre><code>## Warning in log(-2): NaNs produced</code></pre>
<pre><code>## [1] NaN</code></pre>
<div class="sourceCode" id="cb31"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb31-1"><a href="introduction-to-r.html#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="dv">0</span> <span class="sc">/</span> <span class="dv">0</span></span></code></pre></div>
<pre><code>## [1] NaN</code></pre>
<div id="logical-operators" class="section level3 hasAnchor" number="1.2.1">
<h3><span class="header-section-number">1.2.1</span> Logical operators<a href="introduction-to-r.html#logical-operators" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Logical operators help evaluate certain conditions. For instance, we may be interested in checking if an insurance claim is greater than (<code>&gt;</code>) a given deductible. If this is “true,” then the insurance company may pay the amount above the deductible. In Table <a href="introduction-to-r.html#tab:loperator">1.2</a> you can find a list of logical operators in R. These operators return a <em>Boolean</em> value of either <code>TRUE</code> or <code>FALSE</code>.</p>
<table>
<caption><span id="tab:loperator">Table 1.2: </span>Logical operators.</caption>
<tbody>
<tr class="odd">
<td align="left">Less Than</td>
<td align="left">&lt;</td>
</tr>
<tr class="even">
<td align="left">Less Than or Equal To</td>
<td align="left">&lt;=</td>
</tr>
<tr class="odd">
<td align="left">Greater Than</td>
<td align="left">&gt;</td>
</tr>
<tr class="even">
<td align="left">Greater Than or Equal To</td>
<td align="left">&gt;=</td>
</tr>
<tr class="odd">
<td align="left">Equal To</td>
<td align="left">==</td>
</tr>
<tr class="even">
<td align="left">Not Equal To</td>
<td align="left">!=</td>
</tr>
<tr class="odd">
<td align="left">Not</td>
<td align="left">!</td>
</tr>
<tr class="even">
<td align="left">Or</td>
<td align="left">|</td>
</tr>
<tr class="odd">
<td align="left">And</td>
<td align="left">&amp;</td>
</tr>
</tbody>
</table>
<p>Following you can see some simple examples:</p>
<div class="sourceCode" id="cb33"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb33-1"><a href="introduction-to-r.html#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="dv">4</span> <span class="sc">&lt;=</span> <span class="dv">3</span></span></code></pre></div>
<pre><code>## [1] FALSE</code></pre>
<div class="sourceCode" id="cb35"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb35-1"><a href="introduction-to-r.html#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span> <span class="sc">==</span> <span class="dv">1</span></span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<div class="sourceCode" id="cb37"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb37-1"><a href="introduction-to-r.html#cb37-1" aria-hidden="true" tabindex="-1"></a>(<span class="dv">3</span> <span class="sc">!=</span> <span class="dv">2</span>) <span class="sc">&amp;</span> <span class="sc">!</span>(<span class="dv">1</span> <span class="sc">&gt;</span> <span class="dv">1</span>)</span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
</div>
</div>
<div id="r-objects" class="section level2 hasAnchor" number="1.3">
<h2><span class="header-section-number">1.3</span> R objects<a href="introduction-to-r.html#r-objects" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>An essential part of any programming language is the ability to store information in variables. R lets you save data by storing it inside an R object. An object is just a name that you can use to call up stored data. First, we need to see how to create objects.</p>
<div id="assignment" class="section level3 hasAnchor" number="1.3.1">
<h3><span class="header-section-number">1.3.1</span> Assignment<a href="introduction-to-r.html#assignment" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Objects in R are created using the assignment operator <code>&lt;-</code>, that is, the less than symbol, <code>&lt;</code>, followed by a minus sign, <code>-</code>. Simply choose a name followed by <code>&lt;-</code> and the information you want to store. For example:</p>
<div class="sourceCode" id="cb39"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb39-1"><a href="introduction-to-r.html#cb39-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="dv">1</span></span></code></pre></div>
<p>Your variable will now be part of what is called the “working space.” You can print the value stored in this variable type its name</p>
<div class="sourceCode" id="cb40"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb40-1"><a href="introduction-to-r.html#cb40-1" aria-hidden="true" tabindex="-1"></a>x</span></code></pre></div>
<pre><code>## [1] 1</code></pre>
<p>or you can use the <code>print()</code> function</p>
<div class="sourceCode" id="cb42"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb42-1"><a href="introduction-to-r.html#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(x)</span></code></pre></div>
<pre><code>## [1] 1</code></pre>
<p>Make sure that the assignment operator is well written, otherwise, you may obtain an error:</p>
<div class="sourceCode" id="cb44"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb44-1"><a href="introduction-to-r.html#cb44-1" aria-hidden="true" tabindex="-1"></a>x <span class="sc">&lt;</span> <span class="sc">-</span><span class="dv">1</span></span></code></pre></div>
<pre><code>## Error in eval(expr, envir, enclos): object &#39;x&#39; not found</code></pre>
<p>There are a few rules regarding the name of an object in R. First, a name cannot start with a number. Second, a name cannot use some special symbols, like <code>^</code>, <code>!</code>, <code>$</code>, <code>@</code>, <code>+</code>, <code>-</code>, <code>/</code>, or <code>*</code>. Other than that, you can name your variables in any way you want. However, it is convenient to choose a name that will help you (and others) easily read your code. Note also that R is also case-sensitive. This means that in the following code, the variables <code>my_variable</code> and <code>My_variable</code> are different objects:</p>
<div class="sourceCode" id="cb46"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb46-1"><a href="introduction-to-r.html#cb46-1" aria-hidden="true" tabindex="-1"></a>my_variable <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb46-2"><a href="introduction-to-r.html#cb46-2" aria-hidden="true" tabindex="-1"></a>My_variable <span class="ot">&lt;-</span> <span class="dv">2</span></span>
<span id="cb46-3"><a href="introduction-to-r.html#cb46-3" aria-hidden="true" tabindex="-1"></a>my_variable</span></code></pre></div>
<pre><code>## [1] 1</code></pre>
<p>If you use a name that is already taken, R will overwrite any previous information stored in that object:</p>
<div class="sourceCode" id="cb48"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb48-1"><a href="introduction-to-r.html#cb48-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="dv">3</span></span>
<span id="cb48-2"><a href="introduction-to-r.html#cb48-2" aria-hidden="true" tabindex="-1"></a>x</span></code></pre></div>
<pre><code>## [1] 3</code></pre>
<div class="sourceCode" id="cb50"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb50-1"><a href="introduction-to-r.html#cb50-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="dv">10</span></span>
<span id="cb50-2"><a href="introduction-to-r.html#cb50-2" aria-hidden="true" tabindex="-1"></a>x</span></code></pre></div>
<pre><code>## [1] 10</code></pre>
<p>Hence, it is good to check if the names you will use are already taken. You can see which object names you have already used with the function <code>ls</code> or in the <strong>Environment</strong> tab of Rstudio:</p>
<div class="sourceCode" id="cb52"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb52-1"><a href="introduction-to-r.html#cb52-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ls</span>()</span></code></pre></div>
<pre><code>## [1] &quot;my_variable&quot; &quot;My_variable&quot; &quot;x&quot;</code></pre>
<p>You also need to be careful of not using the name of a function or constant that is already in R. This can lead to hard-to-identify errors or incorrect outputs:</p>
<div class="sourceCode" id="cb54"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb54-1"><a href="introduction-to-r.html#cb54-1" aria-hidden="true" tabindex="-1"></a>pi <span class="ot">&lt;-</span> <span class="dv">10</span> </span>
<span id="cb54-2"><a href="introduction-to-r.html#cb54-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb54-3"><a href="introduction-to-r.html#cb54-3" aria-hidden="true" tabindex="-1"></a><span class="fu">sin</span>(<span class="dv">2</span> <span class="sc">*</span> pi)</span></code></pre></div>
<pre><code>## [1] 0.9129453</code></pre>
<p>To remove specific objects from the working space you can use the <code>rm()</code> function:</p>
<div class="sourceCode" id="cb56"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb56-1"><a href="introduction-to-r.html#cb56-1" aria-hidden="true" tabindex="-1"></a><span class="fu">rm</span>(my_variable)</span>
<span id="cb56-2"><a href="introduction-to-r.html#cb56-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ls</span>()</span></code></pre></div>
<pre><code>## [1] &quot;My_variable&quot; &quot;pi&quot;          &quot;x&quot;</code></pre>
<p>In RStudio, ensure the Environment tab is in Grid (not List) mode. Tick the object(s) you want to remove from the environment. Click the broom icon.</p>
<p>To clean the whole working space, type</p>
<div class="sourceCode" id="cb58"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb58-1"><a href="introduction-to-r.html#cb58-1" aria-hidden="true" tabindex="-1"></a><span class="fu">rm</span>(<span class="at">list =</span> <span class="fu">ls</span>())</span>
<span id="cb58-2"><a href="introduction-to-r.html#cb58-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ls</span>()</span></code></pre></div>
<pre><code>## character(0)</code></pre>
<p>or click the broom icon in the Environment tab (list mode) in Rstudio.</p>
<div class="remark">
<p><span id="unlabeled-div-5" class="remark"><em>Remark</em>. </span>Objects can also be created using <code>=</code> instead of <code>&lt;-</code>. Although <code>=</code> is simpler to type, we do not recommend using it since it will make your code more difficult to read. Alternatively, you can use the shortcut <code>alt/opt</code> + <code>-</code> to generate <code>&lt;-</code>.</p>
</div>
<p>Just as you performed calculations with numbers in the previous section, you can do the same with objects containing numbers references. Let us come back to Example <a href="introduction-to-r.html#exm:pv">1.1</a>. An alternative solution using objects would be as follow:</p>
<div class="sourceCode" id="cb60"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb60-1"><a href="introduction-to-r.html#cb60-1" aria-hidden="true" tabindex="-1"></a>maturity <span class="ot">&lt;-</span> <span class="dv">5</span></span>
<span id="cb60-2"><a href="introduction-to-r.html#cb60-2" aria-hidden="true" tabindex="-1"></a>r <span class="ot">&lt;-</span> <span class="fl">0.03</span></span>
<span id="cb60-3"><a href="introduction-to-r.html#cb60-3" aria-hidden="true" tabindex="-1"></a>(<span class="dv">1</span> <span class="sc">+</span> r)<span class="sc">^</span>(<span class="sc">-</span>maturity)</span></code></pre></div>
<pre><code>## [1] 0.8626088</code></pre>
<p>As your analysis gets more complicated, you may want to save the results to access them later.</p>
<div class="sourceCode" id="cb62"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb62-1"><a href="introduction-to-r.html#cb62-1" aria-hidden="true" tabindex="-1"></a>pv <span class="ot">&lt;-</span> (<span class="dv">1</span> <span class="sc">+</span> r)<span class="sc">^</span>(<span class="sc">-</span>maturity)</span>
<span id="cb62-2"><a href="introduction-to-r.html#cb62-2" aria-hidden="true" tabindex="-1"></a>pv</span></code></pre></div>
<pre><code>## [1] 0.8626088</code></pre>
<p>For instance, if you now want to compute the present value of an investment that gives 75 at the end of 5 years (assuming the same 3% interest rate), you can simply type:</p>
<div class="sourceCode" id="cb64"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb64-1"><a href="introduction-to-r.html#cb64-1" aria-hidden="true" tabindex="-1"></a><span class="dv">75</span> <span class="sc">*</span> pv</span></code></pre></div>
<pre><code>## [1] 64.69566</code></pre>
<p>Let us imagine that you need to repeat the analysis above, but this time using different inputs (for instance, a different interest rate). If you used the console solely, you would need to go back in the console history, change where needed, and rerun the rest of the code. This is particularly complicated when you have several lines of code. Hopefully, you can use <strong>scripts</strong> to avoid this situation. To open a new script go to <code>File</code> -&gt; <code>New File</code> -&gt; <code>R script</code>. This will open a new script. Here you can write your code and run it afterward using shortcuts such as Cmd+Enter or using the <strong>Run</strong> button in Rstudio.</p>
</div>
<div id="data-types" class="section level3 hasAnchor" number="1.3.2">
<h3><span class="header-section-number">1.3.2</span> Data types<a href="introduction-to-r.html#data-types" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>R has different types of variables. These are the ones that are commonly used:</p>
<ol style="list-style-type: decimal">
<li>Numeric - Any number in <span class="math inline">\(\mathbb{R}\)</span>.</li>
<li>Complex - Complex numbers (<span class="math inline">\(\mathbb{C}\)</span>)</li>
<li>Character - Collection of characters. For instance, the name of a student.</li>
<li>Logical - TRUE and FALSE</li>
</ol>
<p>A difference between R and other programming languages, such as C++, is that we can declare a variable without specifying its type. Instead, R will automatically determine the type.</p>
<div id="numeric" class="section level4 unnumbered hasAnchor">
<h4>Numeric<a href="introduction-to-r.html#numeric" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>R is equipped with useful functions that can be used to find the type of a variable. For instance, the <code>class()</code> function:</p>
<div class="sourceCode" id="cb66"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb66-1"><a href="introduction-to-r.html#cb66-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">log</span>(<span class="dv">2</span>)</span>
<span id="cb66-2"><a href="introduction-to-r.html#cb66-2" aria-hidden="true" tabindex="-1"></a>x</span></code></pre></div>
<pre><code>## [1] 0.6931472</code></pre>
<div class="sourceCode" id="cb68"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb68-1"><a href="introduction-to-r.html#cb68-1" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(x)</span></code></pre></div>
<pre><code>## [1] &quot;numeric&quot;</code></pre>
<p>We can also check if a variable is of a certain type:</p>
<div class="sourceCode" id="cb70"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb70-1"><a href="introduction-to-r.html#cb70-1" aria-hidden="true" tabindex="-1"></a><span class="fu">is.numeric</span>(x) <span class="co"># check whether the data x is numeric</span></span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<div class="sourceCode" id="cb72"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb72-1"><a href="introduction-to-r.html#cb72-1" aria-hidden="true" tabindex="-1"></a><span class="fu">is.character</span>(x) <span class="co"># check whether the data x is character</span></span></code></pre></div>
<pre><code>## [1] FALSE</code></pre>
<p>R can store data only up to a certain point. This means that, for instance, <span class="math inline">\(\pi\)</span>, which has an infinite decimal representation, is computed up to a finite number of decimal points. This is the reason why expressions such as the next one do not give exactly 0 as a result:</p>
<div class="sourceCode" id="cb74"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb74-1"><a href="introduction-to-r.html#cb74-1" aria-hidden="true" tabindex="-1"></a><span class="fu">exp</span>(<span class="fu">log</span>(<span class="dv">10</span>)) <span class="sc">-</span> <span class="dv">10</span></span></code></pre></div>
<pre><code>## [1] 1.776357e-15</code></pre>
<p>R has a special command to represent infinity: <code>Inf</code>. You can check which is the largest number below <code>Inf</code> using</p>
<div class="sourceCode" id="cb76"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb76-1"><a href="introduction-to-r.html#cb76-1" aria-hidden="true" tabindex="-1"></a>.Machine<span class="sc">$</span>double.xmax</span></code></pre></div>
<pre><code>## [1] 1.797693e+308</code></pre>
<p>Any number above this will be converted to <code>Inf</code>.</p>
<div class="sourceCode" id="cb78"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb78-1"><a href="introduction-to-r.html#cb78-1" aria-hidden="true" tabindex="-1"></a><span class="fl">2e+308</span></span></code></pre></div>
<pre><code>## [1] Inf</code></pre>
<p>You can use logical operators to check if a number is below <code>Inf</code>.</p>
<div class="sourceCode" id="cb80"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb80-1"><a href="introduction-to-r.html#cb80-1" aria-hidden="true" tabindex="-1"></a><span class="fl">2e+308</span> <span class="sc">&lt;</span> <span class="cn">Inf</span></span></code></pre></div>
<pre><code>## [1] FALSE</code></pre>
<div class="sourceCode" id="cb82"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb82-1"><a href="introduction-to-r.html#cb82-1" aria-hidden="true" tabindex="-1"></a><span class="fl">2e+306</span> <span class="sc">&lt;</span> <span class="cn">Inf</span></span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<div class="remark">
<p><span id="unlabeled-div-6" class="remark"><em>Remark</em>. </span>The above notation using <code>e</code>, is to specify scientific notation in R. For instance,</p>
<div class="sourceCode" id="cb84"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb84-1"><a href="introduction-to-r.html#cb84-1" aria-hidden="true" tabindex="-1"></a><span class="fl">2e+2</span> <span class="co"># This corresponds to 2 * 10^2</span></span></code></pre></div>
<pre><code>## [1] 200</code></pre>
<div class="sourceCode" id="cb86"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb86-1"><a href="introduction-to-r.html#cb86-1" aria-hidden="true" tabindex="-1"></a><span class="fl">3.5e-1</span> <span class="co"># This corresponds to 3.5 * 10^(-1)</span></span></code></pre></div>
<pre><code>## [1] 0.35</code></pre>
</div>
<p><code>Inf</code> can also be used in calculations and to represent certain quantities</p>
<div class="sourceCode" id="cb88"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb88-1"><a href="introduction-to-r.html#cb88-1" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span> <span class="sc">/</span> <span class="dv">0</span></span></code></pre></div>
<pre><code>## [1] Inf</code></pre>
<div class="sourceCode" id="cb90"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb90-1"><a href="introduction-to-r.html#cb90-1" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span> <span class="sc">/</span> <span class="cn">Inf</span></span></code></pre></div>
<pre><code>## [1] 0</code></pre>
<div class="remark">
<p><span id="unlabeled-div-7" class="remark"><em>Remark</em>. </span>It is possible to work with <strong>integers</strong> in R. To specify that a number is an integer, you need to type <code>L</code> after the number:</p>
<div class="sourceCode" id="cb92"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb92-1"><a href="introduction-to-r.html#cb92-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> 2L</span>
<span id="cb92-2"><a href="introduction-to-r.html#cb92-2" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(x)</span></code></pre></div>
<pre><code>## [1] &quot;integer&quot;</code></pre>
<p>However, when performing computations, integers can easily be converted to numeric objects. Hence, it is very likely that you will never need to work with integers.</p>
<div class="sourceCode" id="cb94"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb94-1"><a href="introduction-to-r.html#cb94-1" aria-hidden="true" tabindex="-1"></a>y <span class="ot">&lt;-</span> <span class="dv">1</span> <span class="sc">*</span> x</span>
<span id="cb94-2"><a href="introduction-to-r.html#cb94-2" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(y)</span></code></pre></div>
<pre><code>## [1] &quot;numeric&quot;</code></pre>
</div>
</div>
<div id="complex" class="section level4 unnumbered hasAnchor">
<h4>Complex<a href="introduction-to-r.html#complex" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>A complex number is specified by adding the suffix i.</p>
<div class="sourceCode" id="cb96"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb96-1"><a href="introduction-to-r.html#cb96-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="sc">-</span>3i</span>
<span id="cb96-2"><a href="introduction-to-r.html#cb96-2" aria-hidden="true" tabindex="-1"></a>x</span></code></pre></div>
<pre><code>## [1] 0-3i</code></pre>
<div class="sourceCode" id="cb98"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb98-1"><a href="introduction-to-r.html#cb98-1" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(x)</span></code></pre></div>
<pre><code>## [1] &quot;complex&quot;</code></pre>
<p>You need to make sure to include a number before i, otherwise, R will try to look for an object.</p>
<div class="sourceCode" id="cb100"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb100-1"><a href="introduction-to-r.html#cb100-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> i</span></code></pre></div>
<pre><code>## Error in eval(expr, envir, enclos): object &#39;i&#39; not found</code></pre>
<p>The order of real and complex parts does not matter.</p>
<div class="sourceCode" id="cb102"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb102-1"><a href="introduction-to-r.html#cb102-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="dv">2</span> <span class="sc">-</span> 1i</span>
<span id="cb102-2"><a href="introduction-to-r.html#cb102-2" aria-hidden="true" tabindex="-1"></a>x</span></code></pre></div>
<pre><code>## [1] 2-1i</code></pre>
<div class="sourceCode" id="cb104"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb104-1"><a href="introduction-to-r.html#cb104-1" aria-hidden="true" tabindex="-1"></a>y <span class="ot">&lt;-</span> <span class="sc">-</span>1i <span class="sc">+</span> <span class="dv">2</span></span>
<span id="cb104-2"><a href="introduction-to-r.html#cb104-2" aria-hidden="true" tabindex="-1"></a>y</span></code></pre></div>
<pre><code>## [1] 2-1i</code></pre>
<p>You can check if a variable is complex</p>
<div class="sourceCode" id="cb106"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb106-1"><a href="introduction-to-r.html#cb106-1" aria-hidden="true" tabindex="-1"></a><span class="fu">is.complex</span>(x)</span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<div class="sourceCode" id="cb108"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb108-1"><a href="introduction-to-r.html#cb108-1" aria-hidden="true" tabindex="-1"></a><span class="fu">is.numeric</span>(x)</span></code></pre></div>
<pre><code>## [1] FALSE</code></pre>
<p>and perform calculations</p>
<div class="sourceCode" id="cb110"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb110-1"><a href="introduction-to-r.html#cb110-1" aria-hidden="true" tabindex="-1"></a>x <span class="sc">+</span> y</span></code></pre></div>
<pre><code>## [1] 4-2i</code></pre>
<p>R has some built-in functions to transform the type of data. For instance, we could use <code>as.numeric()</code> to try to transform a complex into a numeric</p>
<div class="sourceCode" id="cb112"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb112-1"><a href="introduction-to-r.html#cb112-1" aria-hidden="true" tabindex="-1"></a><span class="fu">as.numeric</span>(x)</span></code></pre></div>
<pre><code>## Warning: imaginary parts discarded in coercion</code></pre>
<pre><code>## [1] 2</code></pre>
<p>Note that a warning message is displayed, indicating that R only took the real part.</p>
</div>
<div id="character" class="section level4 unnumbered hasAnchor">
<h4>Character<a href="introduction-to-r.html#character" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>A character string is specified by using quotation marks (<code>"</code>).</p>
<div class="sourceCode" id="cb115"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb115-1"><a href="introduction-to-r.html#cb115-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="st">&quot;Hello world&quot;</span></span>
<span id="cb115-2"><a href="introduction-to-r.html#cb115-2" aria-hidden="true" tabindex="-1"></a>x</span></code></pre></div>
<pre><code>## [1] &quot;Hello world&quot;</code></pre>
<div class="sourceCode" id="cb117"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb117-1"><a href="introduction-to-r.html#cb117-1" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(x)</span></code></pre></div>
<pre><code>## [1] &quot;character&quot;</code></pre>
<p>You can use single (<code>'</code>) or double (<code>"</code>) quotes, but not a mix.</p>
<div class="sourceCode" id="cb119"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb119-1"><a href="introduction-to-r.html#cb119-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="st">&quot;Actuarial&quot;</span></span>
<span id="cb119-2"><a href="introduction-to-r.html#cb119-2" aria-hidden="true" tabindex="-1"></a>x</span></code></pre></div>
<pre><code>## [1] &quot;Actuarial&quot;</code></pre>
<div class="sourceCode" id="cb121"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb121-1"><a href="introduction-to-r.html#cb121-1" aria-hidden="true" tabindex="-1"></a>y <span class="ot">&lt;-</span> <span class="st">&#39;Mathematics&#39;</span></span>
<span id="cb121-2"><a href="introduction-to-r.html#cb121-2" aria-hidden="true" tabindex="-1"></a>y</span></code></pre></div>
<pre><code>## [1] &quot;Mathematics&quot;</code></pre>
<div class="sourceCode" id="cb123"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb123-1"><a href="introduction-to-r.html#cb123-1" aria-hidden="true" tabindex="-1"></a>z <span class="ot">&lt;-</span> <span class="st">&#39;Mix&quot;</span></span></code></pre></div>
<pre><code>## Error: &lt;text&gt;:1:6: unexpected INCOMPLETE_STRING
## 1: z &lt;- &#39;Mix&quot;
##          ^</code></pre>
<p>To concatenate two character strings, we can use the <code>paste()</code> function :</p>
<div class="sourceCode" id="cb125"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb125-1"><a href="introduction-to-r.html#cb125-1" aria-hidden="true" tabindex="-1"></a><span class="fu">paste</span>(x, y)</span></code></pre></div>
<pre><code>## [1] &quot;Actuarial Mathematics&quot;</code></pre>
<p>Note that by default, <code>paste()</code> puts a space between the two character strings. You can change this by using the <code>sep</code> argument:</p>
<div class="sourceCode" id="cb127"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb127-1"><a href="introduction-to-r.html#cb127-1" aria-hidden="true" tabindex="-1"></a><span class="fu">paste</span>(x, y, <span class="at">sep =</span> <span class="st">&quot;.&quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;Actuarial.Mathematics&quot;</code></pre>
<p>You can convert numeric variables into character variables by using the <code>as.character()</code> function.</p>
<div class="sourceCode" id="cb129"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb129-1"><a href="introduction-to-r.html#cb129-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="dv">2</span></span>
<span id="cb129-2"><a href="introduction-to-r.html#cb129-2" aria-hidden="true" tabindex="-1"></a><span class="fu">as.character</span>(x)</span></code></pre></div>
<pre><code>## [1] &quot;2&quot;</code></pre>
<p>It is also possible to pass from character to numeric.</p>
<div class="sourceCode" id="cb131"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb131-1"><a href="introduction-to-r.html#cb131-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="st">&quot;2&quot;</span></span>
<span id="cb131-2"><a href="introduction-to-r.html#cb131-2" aria-hidden="true" tabindex="-1"></a><span class="fu">as.numeric</span>(x)</span></code></pre></div>
<pre><code>## [1] 2</code></pre>
<p>Finally, try the following code:</p>
<div class="sourceCode" id="cb133"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb133-1"><a href="introduction-to-r.html#cb133-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="st">&quot;Hola&quot;</span></span>
<span id="cb133-2"><a href="introduction-to-r.html#cb133-2" aria-hidden="true" tabindex="-1"></a><span class="fu">as.numeric</span>(x)</span></code></pre></div>
<pre><code>## Warning: NAs introduced by coercion</code></pre>
<pre><code>## [1] NA</code></pre>
<p>This will produce a <code>NA</code> (short for Not Applicable). <code>NA</code> is used to represent missing values, or unknown values, in R.</p>
</div>
<div id="logical" class="section level4 unnumbered hasAnchor">
<h4>Logical<a href="introduction-to-r.html#logical" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>We have already mentioned the logical constants <code>TRUE</code> and <code>FALSE</code>, when describing logical operators. These can also be stored in an object as follows:</p>
<div class="sourceCode" id="cb136"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb136-1"><a href="introduction-to-r.html#cb136-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="cn">TRUE</span></span>
<span id="cb136-2"><a href="introduction-to-r.html#cb136-2" aria-hidden="true" tabindex="-1"></a>x</span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<div class="sourceCode" id="cb138"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb138-1"><a href="introduction-to-r.html#cb138-1" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(x)</span></code></pre></div>
<pre><code>## [1] &quot;logical&quot;</code></pre>
<p>Alternative, you can use <code>T</code> and <code>F</code>:</p>
<div class="sourceCode" id="cb140"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb140-1"><a href="introduction-to-r.html#cb140-1" aria-hidden="true" tabindex="-1"></a>y <span class="ot">&lt;-</span> F</span>
<span id="cb140-2"><a href="introduction-to-r.html#cb140-2" aria-hidden="true" tabindex="-1"></a>y</span></code></pre></div>
<pre><code>## [1] FALSE</code></pre>
<p>When converting a logical variable into a numeric variable, you will obtain 1 (TRUE) or 0 (FALSE):</p>
<div class="sourceCode" id="cb142"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb142-1"><a href="introduction-to-r.html#cb142-1" aria-hidden="true" tabindex="-1"></a><span class="fu">as.numeric</span>(<span class="cn">TRUE</span>)</span></code></pre></div>
<pre><code>## [1] 1</code></pre>
<div class="sourceCode" id="cb144"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb144-1"><a href="introduction-to-r.html#cb144-1" aria-hidden="true" tabindex="-1"></a><span class="fu">as.numeric</span>(<span class="cn">FALSE</span>)</span></code></pre></div>
<pre><code>## [1] 0</code></pre>
<p>On the other hand, you can convert a numeric variable into a logical one using the <code>as.logical()</code> function. In such a case, any numeric value different to 0 will be converted to TRUE and only 0 to FALSE:</p>
<div class="sourceCode" id="cb146"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb146-1"><a href="introduction-to-r.html#cb146-1" aria-hidden="true" tabindex="-1"></a><span class="fu">as.logical</span>(<span class="fl">2.3</span>)</span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<div class="sourceCode" id="cb148"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb148-1"><a href="introduction-to-r.html#cb148-1" aria-hidden="true" tabindex="-1"></a><span class="fu">as.logical</span>(<span class="dv">0</span>)</span></code></pre></div>
<pre><code>## [1] FALSE</code></pre>
<p>When performing computation, R automatically transforms TRUE to 1 and FALSE to 0, which can be very useful.</p>
<div class="example">
<p><span id="exm:unlabeled-div-8" class="example"><strong>Example 1.2  </strong></span>A car insurance policy covers any losses above a deductible of 80. Compute the amount paid by the company if a claim for 100 is registered.</p>
</div>
<div class="solution">
<p><span id="unlabeled-div-9" class="solution"><em>Solution</em>. </span><span class="math inline">\(\,\)</span></p>
<div class="sourceCode" id="cb150"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb150-1"><a href="introduction-to-r.html#cb150-1" aria-hidden="true" tabindex="-1"></a>deductible <span class="ot">&lt;-</span> <span class="dv">80</span></span>
<span id="cb150-2"><a href="introduction-to-r.html#cb150-2" aria-hidden="true" tabindex="-1"></a>claim <span class="ot">&lt;-</span> <span class="dv">100</span></span>
<span id="cb150-3"><a href="introduction-to-r.html#cb150-3" aria-hidden="true" tabindex="-1"></a>payment <span class="ot">&lt;-</span> (claim <span class="sc">&gt;</span> deductible) <span class="sc">*</span> (claim <span class="sc">-</span> deductible)</span>
<span id="cb150-4"><a href="introduction-to-r.html#cb150-4" aria-hidden="true" tabindex="-1"></a>payment</span></code></pre></div>
<pre><code>## [1] 20</code></pre>
</div>
<p>What if the claim was for 70?</p>
<div class="sourceCode" id="cb152"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb152-1"><a href="introduction-to-r.html#cb152-1" aria-hidden="true" tabindex="-1"></a>deductible <span class="ot">&lt;-</span> <span class="dv">80</span></span>
<span id="cb152-2"><a href="introduction-to-r.html#cb152-2" aria-hidden="true" tabindex="-1"></a>claim <span class="ot">&lt;-</span> <span class="dv">70</span></span>
<span id="cb152-3"><a href="introduction-to-r.html#cb152-3" aria-hidden="true" tabindex="-1"></a>payment <span class="ot">&lt;-</span> (claim <span class="sc">&gt;=</span> deductible) <span class="sc">*</span> (claim <span class="sc">-</span> deductible)</span>
<span id="cb152-4"><a href="introduction-to-r.html#cb152-4" aria-hidden="true" tabindex="-1"></a>payment</span></code></pre></div>
<pre><code>## [1] 0</code></pre>
</div>
</div>
</div>
<div id="vectors" class="section level2 hasAnchor" number="1.4">
<h2><span class="header-section-number">1.4</span> Vectors<a href="introduction-to-r.html#vectors" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Vectors are made of a set of objects. The <code>c()</code> function can be used to create vectors, and it is the easiest way to define and store more than one value in R.</p>
<div class="sourceCode" id="cb154"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb154-1"><a href="introduction-to-r.html#cb154-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">2</span>, <span class="dv">6</span>, <span class="sc">-</span><span class="dv">1</span>, <span class="sc">-</span><span class="dv">5</span>, <span class="dv">1</span>)</span>
<span id="cb154-2"><a href="introduction-to-r.html#cb154-2" aria-hidden="true" tabindex="-1"></a>x</span></code></pre></div>
<pre><code>## [1]  0  2  6 -1 -5  1</code></pre>
<p>You can check if an object is a vector by using the function <code>is.vector()</code>:</p>
<div class="sourceCode" id="cb156"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb156-1"><a href="introduction-to-r.html#cb156-1" aria-hidden="true" tabindex="-1"></a><span class="fu">is.vector</span>(x)</span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<p>In fact, we have been working with vectors (of length one) for quite some time:</p>
<div class="sourceCode" id="cb158"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb158-1"><a href="introduction-to-r.html#cb158-1" aria-hidden="true" tabindex="-1"></a>y <span class="ot">&lt;-</span> <span class="dv">2</span></span>
<span id="cb158-2"><a href="introduction-to-r.html#cb158-2" aria-hidden="true" tabindex="-1"></a><span class="fu">is.vector</span>(y)</span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<p>The <code>c()</code> function also allows you to give other vectors as inputs,</p>
<div class="sourceCode" id="cb160"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb160-1"><a href="introduction-to-r.html#cb160-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">2</span>), <span class="fu">c</span>(<span class="dv">6</span>, <span class="sc">-</span><span class="dv">1</span>), <span class="sc">-</span><span class="dv">5</span>, <span class="dv">1</span>)</span>
<span id="cb160-2"><a href="introduction-to-r.html#cb160-2" aria-hidden="true" tabindex="-1"></a>x</span></code></pre></div>
<pre><code>## [1]  0  2  6 -1 -5  1</code></pre>
<p>In that case, it will concatenate the vectors.</p>
<p>There are other ways to generate (numeric) vectors. Next, we describe how to use the <code>rep()</code> and <code>seq()</code> functions to do so.
Let us start with the function <code>rep(x, times)</code>, which repeats <code>x</code> the number times specified by <code>times</code>.</p>
<div class="sourceCode" id="cb162"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb162-1"><a href="introduction-to-r.html#cb162-1" aria-hidden="true" tabindex="-1"></a><span class="fu">rep</span>(<span class="dv">1</span>, <span class="dv">4</span>)</span></code></pre></div>
<pre><code>## [1] 1 1 1 1</code></pre>
<p>You can give a vector as input</p>
<div class="sourceCode" id="cb164"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb164-1"><a href="introduction-to-r.html#cb164-1" aria-hidden="true" tabindex="-1"></a><span class="fu">rep</span>(<span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>), <span class="dv">4</span>) <span class="co"># repeats c(1, 2) four times</span></span></code></pre></div>
<pre><code>## [1] 1 2 1 2 1 2 1 2</code></pre>
<p>Next, we will use the function <code>seq(from, to, by, length.out)</code> to generate sequences of numbers. Note that this function has four arguments, and the output will depend on the values provided for these arguments.
If we want to generate a sequence of integers from 10 to 20, we can type:</p>
<div class="sourceCode" id="cb166"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb166-1"><a href="introduction-to-r.html#cb166-1" aria-hidden="true" tabindex="-1"></a><span class="fu">seq</span>(<span class="at">from =</span> <span class="dv">10</span>, <span class="at">to =</span> <span class="dv">20</span>, <span class="at">by =</span> <span class="dv">1</span>)</span></code></pre></div>
<pre><code>##  [1] 10 11 12 13 14 15 16 17 18 19 20</code></pre>
<p>Remember that if we omit the names of the arguments, R will take them in the order provided. So, the following code will provide the same output:</p>
<div class="sourceCode" id="cb168"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb168-1"><a href="introduction-to-r.html#cb168-1" aria-hidden="true" tabindex="-1"></a><span class="fu">seq</span>(<span class="dv">10</span>, <span class="dv">20</span>, <span class="dv">1</span>)</span></code></pre></div>
<pre><code>##  [1] 10 11 12 13 14 15 16 17 18 19 20</code></pre>
<p>As a matter of fact, if you look at the documentation of <code>seq()</code>, you can see that the default value of <code>by</code> is 1, so we can simply type:</p>
<div class="sourceCode" id="cb170"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb170-1"><a href="introduction-to-r.html#cb170-1" aria-hidden="true" tabindex="-1"></a><span class="fu">seq</span>(<span class="dv">10</span>, <span class="dv">20</span>)</span></code></pre></div>
<pre><code>##  [1] 10 11 12 13 14 15 16 17 18 19 20</code></pre>
<p>Sequences of integers are extensively used in R programming. That is why we have the shortcut operator <code>:</code> (you may remember this) to produce the same result:</p>
<div class="sourceCode" id="cb172"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb172-1"><a href="introduction-to-r.html#cb172-1" aria-hidden="true" tabindex="-1"></a><span class="dv">10</span><span class="sc">:</span><span class="dv">20</span></span></code></pre></div>
<pre><code>##  [1] 10 11 12 13 14 15 16 17 18 19 20</code></pre>
<p>Let us try now with a different increment:</p>
<div class="sourceCode" id="cb174"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb174-1"><a href="introduction-to-r.html#cb174-1" aria-hidden="true" tabindex="-1"></a><span class="fu">seq</span>(<span class="dv">1</span>, <span class="dv">5</span>, <span class="at">by =</span> <span class="fl">0.1</span>)</span></code></pre></div>
<pre><code>##  [1] 1.0 1.1 1.2 1.3 1.4 1.5 1.6 1.7 1.8 1.9 2.0 2.1 2.2 2.3 2.4 2.5 2.6 2.7 2.8
## [20] 2.9 3.0 3.1 3.2 3.3 3.4 3.5 3.6 3.7 3.8 3.9 4.0 4.1 4.2 4.3 4.4 4.5 4.6 4.7
## [39] 4.8 4.9 5.0</code></pre>
<p>The fourth argument <code>length.out</code> can be used to specify the number of values to generate. The increment will be adjusted accordingly to obtain precisely the given number.</p>
<div class="sourceCode" id="cb176"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb176-1"><a href="introduction-to-r.html#cb176-1" aria-hidden="true" tabindex="-1"></a><span class="fu">seq</span>(<span class="dv">1</span>, <span class="dv">5</span>, <span class="at">length.out =</span> <span class="dv">10</span>)</span></code></pre></div>
<pre><code>##  [1] 1.000000 1.444444 1.888889 2.333333 2.777778 3.222222 3.666667 4.111111
##  [9] 4.555556 5.000000</code></pre>
<p>So far, we have only created numeric vectors. However, it is also possible to create vectors of the other data types.</p>
<div class="sourceCode" id="cb178"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb178-1"><a href="introduction-to-r.html#cb178-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;string1&quot;</span>, <span class="st">&quot;string2&quot;</span>)</span>
<span id="cb178-2"><a href="introduction-to-r.html#cb178-2" aria-hidden="true" tabindex="-1"></a>x</span></code></pre></div>
<pre><code>## [1] &quot;string1&quot; &quot;string2&quot;</code></pre>
<div class="sourceCode" id="cb180"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb180-1"><a href="introduction-to-r.html#cb180-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="cn">FALSE</span>, <span class="cn">TRUE</span>)</span>
<span id="cb180-2"><a href="introduction-to-r.html#cb180-2" aria-hidden="true" tabindex="-1"></a>x</span></code></pre></div>
<pre><code>## [1] FALSE  TRUE</code></pre>
<div class="sourceCode" id="cb182"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb182-1"><a href="introduction-to-r.html#cb182-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span> <span class="sc">+</span> 2i, <span class="dv">3</span> <span class="sc">-</span> 2i)</span>
<span id="cb182-2"><a href="introduction-to-r.html#cb182-2" aria-hidden="true" tabindex="-1"></a>x</span></code></pre></div>
<pre><code>## [1] 1+2i 3-2i</code></pre>
<p>We can also check the data type of a vector</p>
<div class="sourceCode" id="cb184"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb184-1"><a href="introduction-to-r.html#cb184-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;string1&quot;</span>, <span class="st">&quot;string2&quot;</span>)</span>
<span id="cb184-2"><a href="introduction-to-r.html#cb184-2" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(x)</span></code></pre></div>
<pre><code>## [1] &quot;character&quot;</code></pre>
<div class="sourceCode" id="cb186"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb186-1"><a href="introduction-to-r.html#cb186-1" aria-hidden="true" tabindex="-1"></a><span class="fu">is.numeric</span>(x)</span></code></pre></div>
<pre><code>## [1] FALSE</code></pre>
<p>At this point, you may be wondering what happens when you mix objects. Try it for yourself:</p>
<div class="sourceCode" id="cb188"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb188-1"><a href="introduction-to-r.html#cb188-1" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(<span class="fu">c</span>(<span class="fl">2.5</span>, <span class="st">&quot;string&quot;</span>))</span>
<span id="cb188-2"><a href="introduction-to-r.html#cb188-2" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(<span class="fu">c</span>(<span class="cn">TRUE</span>, <span class="dv">10</span>))</span>
<span id="cb188-3"><a href="introduction-to-r.html#cb188-3" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(<span class="fu">c</span>(<span class="st">&quot;string&quot;</span>, <span class="cn">FALSE</span>))</span>
<span id="cb188-4"><a href="introduction-to-r.html#cb188-4" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(<span class="fu">c</span>(<span class="fl">2.5</span>, 1i))</span></code></pre></div>
<p>You will see that the assignment hierarchy is given as follows: character &gt; complex &gt; numeric &gt; logical.</p>
<div id="accessing-vector-elements" class="section level3 hasAnchor" number="1.4.1">
<h3><span class="header-section-number">1.4.1</span> Accessing vector elements<a href="introduction-to-r.html#accessing-vector-elements" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>To access and modify elements of a vector, we can employ <code>[]</code>. It is important to point out that, in stark contrast to other programming languages (e.g., C++), where the vector index starts in 0, in R, the index begins in 1. Hence, if we want to access the first element of a vector, we need to write:</p>
<div class="sourceCode" id="cb189"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb189-1"><a href="introduction-to-r.html#cb189-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">2</span>, <span class="dv">6</span>, <span class="sc">-</span><span class="dv">1</span>, <span class="sc">-</span><span class="dv">5</span>, <span class="dv">1</span>)</span>
<span id="cb189-2"><a href="introduction-to-r.html#cb189-2" aria-hidden="true" tabindex="-1"></a>x[<span class="dv">1</span>]</span></code></pre></div>
<pre><code>## [1] 0</code></pre>
<p>This also allows you to change the value of that element:</p>
<div class="sourceCode" id="cb191"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb191-1"><a href="introduction-to-r.html#cb191-1" aria-hidden="true" tabindex="-1"></a>x[<span class="dv">1</span>] <span class="ot">&lt;-</span> <span class="dv">10</span></span>
<span id="cb191-2"><a href="introduction-to-r.html#cb191-2" aria-hidden="true" tabindex="-1"></a>x</span></code></pre></div>
<pre><code>## [1] 10  2  6 -1 -5  1</code></pre>
<p>If you try to access an element beyond the last element, you will get <code>NA</code>:</p>
<div class="sourceCode" id="cb193"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb193-1"><a href="introduction-to-r.html#cb193-1" aria-hidden="true" tabindex="-1"></a>x[<span class="dv">10</span>]</span></code></pre></div>
<pre><code>## [1] NA</code></pre>
<p>To obtain the size (or length) of a vector, you can use the function <code>length()</code>:</p>
<div class="sourceCode" id="cb195"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb195-1"><a href="introduction-to-r.html#cb195-1" aria-hidden="true" tabindex="-1"></a><span class="fu">length</span>(x)</span></code></pre></div>
<pre><code>## [1] 6</code></pre>
<p>Thus, one way to access the last element of a vector is the following:</p>
<div class="sourceCode" id="cb197"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb197-1"><a href="introduction-to-r.html#cb197-1" aria-hidden="true" tabindex="-1"></a>x[<span class="fu">length</span>(x)]</span></code></pre></div>
<pre><code>## [1] 1</code></pre>
<p>We may be interested on selecting multiple elements. There are different ways to do it, depending on what is required. Consider the vector</p>
<div class="sourceCode" id="cb199"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb199-1"><a href="introduction-to-r.html#cb199-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">2</span>, <span class="dv">6</span>, <span class="sc">-</span><span class="dv">1</span>, <span class="sc">-</span><span class="dv">5</span>, <span class="dv">1</span>)</span></code></pre></div>
<p>To access the second and third elements, we can type</p>
<div class="sourceCode" id="cb200"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb200-1"><a href="introduction-to-r.html#cb200-1" aria-hidden="true" tabindex="-1"></a>x[<span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">3</span>)]</span></code></pre></div>
<pre><code>## [1] 2 6</code></pre>
<p>To obtain the elements from positions 2 to 5, we can run:</p>
<div class="sourceCode" id="cb202"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb202-1"><a href="introduction-to-r.html#cb202-1" aria-hidden="true" tabindex="-1"></a>x[<span class="dv">2</span><span class="sc">:</span><span class="dv">5</span>]</span></code></pre></div>
<pre><code>## [1]  2  6 -1 -5</code></pre>
<p>We can use negative numbers if we require all the vector entries except for certain elements. For instance, the following code returns the whole vector without the first element:</p>
<div class="sourceCode" id="cb204"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb204-1"><a href="introduction-to-r.html#cb204-1" aria-hidden="true" tabindex="-1"></a>x[<span class="sc">-</span><span class="dv">1</span>]</span></code></pre></div>
<pre><code>## [1]  2  6 -1 -5  1</code></pre>
<p>For multiple elements:</p>
<div class="sourceCode" id="cb206"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb206-1"><a href="introduction-to-r.html#cb206-1" aria-hidden="true" tabindex="-1"></a>x[<span class="fu">c</span>(<span class="sc">-</span><span class="dv">1</span>, <span class="sc">-</span><span class="dv">3</span>)]</span></code></pre></div>
<pre><code>## [1]  2 -1 -5  1</code></pre>
<div class="sourceCode" id="cb208"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb208-1"><a href="introduction-to-r.html#cb208-1" aria-hidden="true" tabindex="-1"></a>x[<span class="sc">-</span><span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">3</span>)] <span class="co"># equivalently</span></span></code></pre></div>
<pre><code>## [1]  2 -1 -5  1</code></pre>
<p>It turns out that we can use logical indexing to subtract data, which is a very powerful tool. Let us start with a very simple example. Consider the vector</p>
<div class="sourceCode" id="cb210"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb210-1"><a href="introduction-to-r.html#cb210-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">2</span>, <span class="dv">5</span>)</span></code></pre></div>
<p>If we type</p>
<div class="sourceCode" id="cb211"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb211-1"><a href="introduction-to-r.html#cb211-1" aria-hidden="true" tabindex="-1"></a>x[<span class="fu">c</span>(<span class="cn">TRUE</span>, <span class="cn">FALSE</span>, <span class="cn">TRUE</span>)]</span></code></pre></div>
<pre><code>## [1] 0 5</code></pre>
<p>we can see that R selects the entries with TRUE values. Now, take again the vector</p>
<div class="sourceCode" id="cb213"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb213-1"><a href="introduction-to-r.html#cb213-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">2</span>, <span class="dv">6</span>, <span class="sc">-</span><span class="dv">1</span>, <span class="sc">-</span><span class="dv">5</span>, <span class="dv">1</span>)</span></code></pre></div>
<p>We can use the logical operators to see, for example, which entries are nonnegative:</p>
<div class="sourceCode" id="cb214"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb214-1"><a href="introduction-to-r.html#cb214-1" aria-hidden="true" tabindex="-1"></a>x <span class="sc">&gt;=</span> <span class="dv">0</span></span></code></pre></div>
<pre><code>## [1]  TRUE  TRUE  TRUE FALSE FALSE  TRUE</code></pre>
<p>Thus, if we want to subtract the nonnegative entries of that vector, we can type:</p>
<div class="sourceCode" id="cb216"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb216-1"><a href="introduction-to-r.html#cb216-1" aria-hidden="true" tabindex="-1"></a>x[x <span class="sc">&gt;=</span> <span class="dv">0</span>]</span></code></pre></div>
<pre><code>## [1] 0 2 6 1</code></pre>
<p>Alternatively, we can make use of the function <code>which()</code>. This function returns the indices that give TRUE to a logical object. For example,</p>
<div class="sourceCode" id="cb218"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb218-1"><a href="introduction-to-r.html#cb218-1" aria-hidden="true" tabindex="-1"></a><span class="fu">which</span>(x <span class="sc">&gt;=</span> <span class="dv">0</span>) <span class="co"># These are indices, not the values contained in the vector</span></span></code></pre></div>
<pre><code>## [1] 1 2 3 6</code></pre>
<p>Hence, we can subtract the non negative entries of that our vector as follows:</p>
<div class="sourceCode" id="cb220"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb220-1"><a href="introduction-to-r.html#cb220-1" aria-hidden="true" tabindex="-1"></a>x[<span class="fu">which</span>(x <span class="sc">&gt;=</span> <span class="dv">0</span>)]</span></code></pre></div>
<pre><code>## [1] 0 2 6 1</code></pre>
<p>If the length of the logical vector is different. R will “recycle” information:</p>
<div class="sourceCode" id="cb222"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb222-1"><a href="introduction-to-r.html#cb222-1" aria-hidden="true" tabindex="-1"></a>x[<span class="fu">c</span>(<span class="cn">TRUE</span>, <span class="cn">FALSE</span>)]</span></code></pre></div>
<pre><code>## [1]  0  6 -5</code></pre>
<div class="sourceCode" id="cb224"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb224-1"><a href="introduction-to-r.html#cb224-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Equivalent to</span></span>
<span id="cb224-2"><a href="introduction-to-r.html#cb224-2" aria-hidden="true" tabindex="-1"></a>x[<span class="fu">c</span>(<span class="cn">TRUE</span>, <span class="cn">FALSE</span>, <span class="cn">TRUE</span>, <span class="cn">FALSE</span>, <span class="cn">TRUE</span>, <span class="cn">FALSE</span>)]</span></code></pre></div>
<pre><code>## [1]  0  6 -5</code></pre>
<p>There are two other special cases that you need to know. If we put <em>nothing</em> inside <code>[]</code>, we obtain the original vector</p>
<div class="sourceCode" id="cb226"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb226-1"><a href="introduction-to-r.html#cb226-1" aria-hidden="true" tabindex="-1"></a>x[]</span></code></pre></div>
<pre><code>## [1]  0  2  6 -1 -5  1</code></pre>
<p>If we put 0, then we obtain a vector of size 0, which is represented by <code>numeric(0)</code></p>
<div class="sourceCode" id="cb228"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb228-1"><a href="introduction-to-r.html#cb228-1" aria-hidden="true" tabindex="-1"></a>x[<span class="dv">0</span>]</span></code></pre></div>
<pre><code>## numeric(0)</code></pre>
</div>
<div id="operations-with-vectors" class="section level3 hasAnchor" number="1.4.2">
<h3><span class="header-section-number">1.4.2</span> Operations with vectors<a href="introduction-to-r.html#operations-with-vectors" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Now, we will review some operations involving vectors.</p>
<div id="scalars-and-vectors" class="section level4 unnumbered hasAnchor">
<h4>Scalars and vectors<a href="introduction-to-r.html#scalars-and-vectors" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Let us start with operations between scalars (vectors of length one) and vectors.</p>
<div class="sourceCode" id="cb230"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb230-1"><a href="introduction-to-r.html#cb230-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">2</span>, <span class="dv">6</span>, <span class="sc">-</span><span class="dv">1</span>, <span class="sc">-</span><span class="dv">5</span>, <span class="dv">1</span>)</span>
<span id="cb230-2"><a href="introduction-to-r.html#cb230-2" aria-hidden="true" tabindex="-1"></a>x <span class="sc">*</span> <span class="dv">2</span></span></code></pre></div>
<pre><code>## [1]   0   4  12  -2 -10   2</code></pre>
<p>As you can see, R will return a new vector with the entries, the entries of the original vector multiplied by the given scalar. In the same way, we can make other operations:</p>
<div class="sourceCode" id="cb232"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb232-1"><a href="introduction-to-r.html#cb232-1" aria-hidden="true" tabindex="-1"></a>x <span class="sc">/</span> <span class="dv">4</span> <span class="sc">+</span> <span class="dv">2</span></span></code></pre></div>
<pre><code>## [1] 2.00 2.50 3.50 1.75 0.75 2.25</code></pre>
<div class="sourceCode" id="cb234"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb234-1"><a href="introduction-to-r.html#cb234-1" aria-hidden="true" tabindex="-1"></a>x<span class="sc">^</span><span class="dv">2</span></span></code></pre></div>
<pre><code>## [1]  0  4 36  1 25  1</code></pre>
<div class="sourceCode" id="cb236"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb236-1"><a href="introduction-to-r.html#cb236-1" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span><span class="sc">^</span>x</span></code></pre></div>
<pre><code>## [1]  1.00000  4.00000 64.00000  0.50000  0.03125  2.00000</code></pre>
</div>
<div id="scalar-functions-applied-to-vectors" class="section level4 unnumbered hasAnchor">
<h4>Scalar functions applied to vectors<a href="introduction-to-r.html#scalar-functions-applied-to-vectors" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>If we apply a scalar function, such as <code>exp()</code>, <code>abs()</code> (absolute value), <code>round()</code>, etc., to a vector, R will compute such a function element-wise:</p>
<div class="sourceCode" id="cb238"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb238-1"><a href="introduction-to-r.html#cb238-1" aria-hidden="true" tabindex="-1"></a><span class="fu">exp</span>(x)</span></code></pre></div>
<pre><code>## [1] 1.000000e+00 7.389056e+00 4.034288e+02 3.678794e-01 6.737947e-03
## [6] 2.718282e+00</code></pre>
<div class="sourceCode" id="cb240"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb240-1"><a href="introduction-to-r.html#cb240-1" aria-hidden="true" tabindex="-1"></a><span class="fu">abs</span>(x)</span></code></pre></div>
<pre><code>## [1] 0 2 6 1 5 1</code></pre>
</div>
<div id="operations-among-vectors" class="section level4 unnumbered hasAnchor">
<h4>Operations among vectors<a href="introduction-to-r.html#operations-among-vectors" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>We can also perform operations among vectors. The operators typically work element-wise. Let us try first with the sum:</p>
<div class="sourceCode" id="cb242"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb242-1"><a href="introduction-to-r.html#cb242-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">2</span>, <span class="dv">6</span>, <span class="sc">-</span><span class="dv">1</span>, <span class="sc">-</span><span class="dv">5</span>, <span class="dv">1</span>)</span>
<span id="cb242-2"><a href="introduction-to-r.html#cb242-2" aria-hidden="true" tabindex="-1"></a>y <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="sc">-</span><span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">7</span>, <span class="sc">-</span><span class="dv">2</span>, <span class="dv">8</span>)</span>
<span id="cb242-3"><a href="introduction-to-r.html#cb242-3" aria-hidden="true" tabindex="-1"></a>x <span class="sc">+</span> y </span></code></pre></div>
<pre><code>## [1]  1  1  8  6 -7  9</code></pre>
<p>We can try other operators:</p>
<div class="sourceCode" id="cb244"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb244-1"><a href="introduction-to-r.html#cb244-1" aria-hidden="true" tabindex="-1"></a>x <span class="sc">*</span> y</span></code></pre></div>
<pre><code>## [1]  0 -2 12 -7 10  8</code></pre>
<div class="sourceCode" id="cb246"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb246-1"><a href="introduction-to-r.html#cb246-1" aria-hidden="true" tabindex="-1"></a>x<span class="sc">^</span>y</span></code></pre></div>
<pre><code>## [1]  0.00  0.50 36.00 -1.00  0.04  1.00</code></pre>
<p>If the vectors are of different sizes, R will <em>recycle</em> information.</p>
<div class="sourceCode" id="cb248"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb248-1"><a href="introduction-to-r.html#cb248-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">2</span>, <span class="dv">6</span>, <span class="sc">-</span><span class="dv">1</span>, <span class="sc">-</span><span class="dv">5</span>, <span class="dv">1</span>)</span>
<span id="cb248-2"><a href="introduction-to-r.html#cb248-2" aria-hidden="true" tabindex="-1"></a>y <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="sc">-</span><span class="dv">1</span>)</span>
<span id="cb248-3"><a href="introduction-to-r.html#cb248-3" aria-hidden="true" tabindex="-1"></a>x <span class="sc">+</span> y</span></code></pre></div>
<pre><code>## [1]  1  1  7 -2 -4  0</code></pre>
<div class="sourceCode" id="cb250"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb250-1"><a href="introduction-to-r.html#cb250-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Equivalent to</span></span>
<span id="cb250-2"><a href="introduction-to-r.html#cb250-2" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">2</span>, <span class="dv">6</span>, <span class="sc">-</span><span class="dv">1</span>, <span class="sc">-</span><span class="dv">5</span>, <span class="dv">1</span>)</span>
<span id="cb250-3"><a href="introduction-to-r.html#cb250-3" aria-hidden="true" tabindex="-1"></a>y <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="sc">-</span><span class="dv">1</span>, <span class="dv">1</span>, <span class="sc">-</span><span class="dv">1</span>, <span class="dv">1</span>, <span class="sc">-</span><span class="dv">1</span>)</span>
<span id="cb250-4"><a href="introduction-to-r.html#cb250-4" aria-hidden="true" tabindex="-1"></a>x <span class="sc">+</span> y</span></code></pre></div>
<pre><code>## [1]  1  1  7 -2 -4  0</code></pre>
<p>Finally, we saw that the <code>*</code> operator performs element-wise multiplication. However, we may want to compute the inner product. This can be done with the <code>%*%</code> operator:</p>
<div class="sourceCode" id="cb252"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb252-1"><a href="introduction-to-r.html#cb252-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">2</span>, <span class="dv">6</span>, <span class="sc">-</span><span class="dv">1</span>, <span class="sc">-</span><span class="dv">5</span>, <span class="dv">1</span>)</span>
<span id="cb252-2"><a href="introduction-to-r.html#cb252-2" aria-hidden="true" tabindex="-1"></a>y <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="sc">-</span><span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">7</span>, <span class="sc">-</span><span class="dv">2</span>, <span class="dv">8</span>)</span>
<span id="cb252-3"><a href="introduction-to-r.html#cb252-3" aria-hidden="true" tabindex="-1"></a>x <span class="sc">%*%</span> y</span></code></pre></div>
<pre><code>##      [,1]
## [1,]   21</code></pre>
<div class="remark">
<p><span id="unlabeled-div-10" class="remark"><em>Remark</em>. </span>Recall that for two vectors <span class="math inline">\(\mathbf{x} = (x_1, \dots ,x_n)\)</span> and <span class="math inline">\(\mathbf{y} = (y_1, \dots ,y_n)\)</span>, the inner product <span class="math inline">\(&lt;\mathbf{x}, \mathbf{y}&gt;\)</span> is defined as
<span class="math display">\[
&lt;\mathbf{x}, \mathbf{y}&gt; = \sum_{i = 1}^n x_i y_i \,.
\]</span></p>
</div>
</div>
<div id="some-vector-functions" class="section level4 unnumbered hasAnchor">
<h4>Some vector functions<a href="introduction-to-r.html#some-vector-functions" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Data will be typically stored inside vectors. In order to analyze such data, we can make use of different R functions. For instance, Table <a href="introduction-to-r.html#tab:vecfn">1.3</a> shows some useful functions.</p>
<table>
<caption><span id="tab:vecfn">Table 1.3: </span>Some vector functions</caption>
<tbody>
<tr class="odd">
<td align="left"><code>min()</code></td>
<td align="left">Minimum value in a vector</td>
</tr>
<tr class="even">
<td align="left"><code>max()</code></td>
<td align="left">Maximum value in a vector</td>
</tr>
<tr class="odd">
<td align="left"><code>length()</code></td>
<td align="left">Number of elements in a vector</td>
</tr>
<tr class="even">
<td align="left"><code>sum()</code></td>
<td align="left">Sum of the elements in a vector</td>
</tr>
<tr class="odd">
<td align="left"><code>mean()</code></td>
<td align="left">Mean of the elements in a vector</td>
</tr>
<tr class="even">
<td align="left"><code>median()</code></td>
<td align="left">Median of the elements in a vector</td>
</tr>
<tr class="odd">
<td align="left"><code>var()</code></td>
<td align="left">Variance of the elements in vector</td>
</tr>
<tr class="even">
<td align="left"><code>sd()</code></td>
<td align="left">Standard deviation of the elements in</td>
</tr>
</tbody>
</table>
<div class="remark">
<p><span id="unlabeled-div-11" class="remark"><em>Remark</em>. </span>For given data <span class="math inline">\(x_1, \dots ,x_n\)</span>, the <code>mean()</code> and <code>var()</code> functions compute the sample mean and variance given by
<span class="math display">\[
\bar{x} = \frac{1}{n}\sum_{i = 1}^n x_i \,, \quad s^2_{n-1} = \frac{1}{n-1}\sum_{i = 1}^n (x_i - \bar{x})^2 \,,
\]</span>
respectively.</p>
</div>
<p>We can now compute several quantities of interest with all these functionalities at hand.</p>
<div class="example">
<p><span id="exm:unlabeled-div-12" class="example"><strong>Example 1.3  </strong></span>Let us assume that an insurance company have reported the following insurance claims:</p>
<div class="sourceCode" id="cb254"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb254-1"><a href="introduction-to-r.html#cb254-1" aria-hidden="true" tabindex="-1"></a>claims <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">80</span>, <span class="dv">20</span>, <span class="dv">60</span>, <span class="dv">55</span>, <span class="fl">20.5</span>, <span class="dv">100</span>, <span class="dv">70</span>, <span class="fl">89.9</span>, <span class="dv">120</span>)</span></code></pre></div>
<p>How many claims were reported?</p>
<div class="sourceCode" id="cb255"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb255-1"><a href="introduction-to-r.html#cb255-1" aria-hidden="true" tabindex="-1"></a><span class="fu">length</span>(claims)</span></code></pre></div>
<pre><code>## [1] 9</code></pre>
<p>How much is the total amount of claims?</p>
<div class="sourceCode" id="cb257"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb257-1"><a href="introduction-to-r.html#cb257-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sum</span>(claims)</span></code></pre></div>
<pre><code>## [1] 615.4</code></pre>
<p>For which amount are the minimum and maximum claim amounts?</p>
<div class="sourceCode" id="cb259"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb259-1"><a href="introduction-to-r.html#cb259-1" aria-hidden="true" tabindex="-1"></a><span class="fu">min</span>(claims)</span></code></pre></div>
<pre><code>## [1] 20</code></pre>
<div class="sourceCode" id="cb261"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb261-1"><a href="introduction-to-r.html#cb261-1" aria-hidden="true" tabindex="-1"></a><span class="fu">max</span>(claims)</span></code></pre></div>
<pre><code>## [1] 120</code></pre>
<p>What is the average claim amount?</p>
<div class="sourceCode" id="cb263"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb263-1"><a href="introduction-to-r.html#cb263-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(claims)</span></code></pre></div>
<pre><code>## [1] 68.37778</code></pre>
<p>This can also be computer using the <code>sum()</code> and <code>length()</code> functions:</p>
<div class="sourceCode" id="cb265"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb265-1"><a href="introduction-to-r.html#cb265-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sum</span>(claims) <span class="sc">/</span> <span class="fu">length</span>(claims)</span></code></pre></div>
<pre><code>## [1] 68.37778</code></pre>
<p>What is the standard deviation of the claims?</p>
<div class="sourceCode" id="cb267"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb267-1"><a href="introduction-to-r.html#cb267-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sd</span>(claims)</span></code></pre></div>
<pre><code>## [1] 33.81489</code></pre>
<p>Again, this can be computed using other functions:</p>
<div class="sourceCode" id="cb269"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb269-1"><a href="introduction-to-r.html#cb269-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sqrt</span>(<span class="fu">sum</span>((claims <span class="sc">-</span> <span class="fu">mean</span>(claims))<span class="sc">^</span><span class="dv">2</span>) <span class="sc">/</span> (<span class="fu">length</span>(claims) <span class="sc">-</span> <span class="dv">1</span>))</span></code></pre></div>
<pre><code>## [1] 33.81489</code></pre>
<p>If all these claims have a deductible of 50, and the insurance company pays the difference between a claim and the deductible if the former is larger. On average, how much does the company have to pay for the claims above the deductible?</p>
<div class="sourceCode" id="cb271"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb271-1"><a href="introduction-to-r.html#cb271-1" aria-hidden="true" tabindex="-1"></a>deductible <span class="ot">&lt;-</span> <span class="dv">50</span></span>
<span id="cb271-2"><a href="introduction-to-r.html#cb271-2" aria-hidden="true" tabindex="-1"></a>claims_to_pay <span class="ot">&lt;-</span> claims[claims <span class="sc">&gt;</span> deductible]</span>
<span id="cb271-3"><a href="introduction-to-r.html#cb271-3" aria-hidden="true" tabindex="-1"></a>payment <span class="ot">&lt;-</span> claims_to_pay <span class="sc">-</span> deductible</span>
<span id="cb271-4"><a href="introduction-to-r.html#cb271-4" aria-hidden="true" tabindex="-1"></a>payment</span></code></pre></div>
<pre><code>## [1] 30.0 10.0  5.0 50.0 20.0 39.9 70.0</code></pre>
<div class="sourceCode" id="cb273"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb273-1"><a href="introduction-to-r.html#cb273-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(payment)</span></code></pre></div>
<pre><code>## [1] 32.12857</code></pre>
</div>
</div>
</div>
</div>
<div id="matrices-data-frames-and-lists" class="section level2 hasAnchor" number="1.5">
<h2><span class="header-section-number">1.5</span> Matrices, data frames, and lists<a href="introduction-to-r.html#matrices-data-frames-and-lists" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="matrices" class="section level3 hasAnchor" number="1.5.1">
<h3><span class="header-section-number">1.5.1</span> Matrices<a href="introduction-to-r.html#matrices" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Sometimes we are interested in storing information in a matrix form. The simplest way to generate a matrix is to use the <code>matrix()</code> function. This function has different arguments (see the help - <code>?matrix</code>), so let us see how to use some of these options. The main argument of <code>matrix()</code> is <code>data</code>, which should be a data vector.</p>
<div class="sourceCode" id="cb275"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb275-1"><a href="introduction-to-r.html#cb275-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>, <span class="dv">6</span>))</span>
<span id="cb275-2"><a href="introduction-to-r.html#cb275-2" aria-hidden="true" tabindex="-1"></a>x</span></code></pre></div>
<pre><code>##      [,1]
## [1,]    1
## [2,]    2
## [3,]    3
## [4,]    4
## [5,]    5
## [6,]    6</code></pre>
<p>Remember, if no further arguments are passed, R will execute the default option. In the above case, it creates a one-column matrix. The next two arguments are <code>nrow</code> and <code>ncol</code>. These are used to define the dimension of a matrix:</p>
<div class="sourceCode" id="cb277"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb277-1"><a href="introduction-to-r.html#cb277-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>, <span class="dv">6</span>), <span class="at">nrow =</span> <span class="dv">3</span>, <span class="at">ncol =</span> <span class="dv">2</span>)</span>
<span id="cb277-2"><a href="introduction-to-r.html#cb277-2" aria-hidden="true" tabindex="-1"></a>x</span></code></pre></div>
<pre><code>##      [,1] [,2]
## [1,]    1    4
## [2,]    2    5
## [3,]    3    6</code></pre>
<div class="sourceCode" id="cb279"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb279-1"><a href="introduction-to-r.html#cb279-1" aria-hidden="true" tabindex="-1"></a>y <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>, <span class="dv">6</span>), <span class="at">nrow =</span> <span class="dv">2</span>, <span class="at">ncol =</span> <span class="dv">3</span>)</span>
<span id="cb279-2"><a href="introduction-to-r.html#cb279-2" aria-hidden="true" tabindex="-1"></a>y</span></code></pre></div>
<pre><code>##      [,1] [,2] [,3]
## [1,]    1    3    5
## [2,]    2    4    6</code></pre>
<p>You can omit the argument names. Just remember that R will assign the input to the arguments in the order they are defined in the function. In this case, <code>nrow</code> first and <code>ncol</code> second (again, see help - <code>?matrix</code>).</p>
<div class="sourceCode" id="cb281"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb281-1"><a href="introduction-to-r.html#cb281-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>, <span class="dv">6</span>), <span class="dv">2</span>, <span class="dv">3</span>)</span>
<span id="cb281-2"><a href="introduction-to-r.html#cb281-2" aria-hidden="true" tabindex="-1"></a>x</span></code></pre></div>
<pre><code>##      [,1] [,2] [,3]
## [1,]    1    3    5
## [2,]    2    4    6</code></pre>
<div class="sourceCode" id="cb283"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb283-1"><a href="introduction-to-r.html#cb283-1" aria-hidden="true" tabindex="-1"></a>y <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>, <span class="dv">6</span>), <span class="dv">3</span>, <span class="dv">2</span>)</span>
<span id="cb283-2"><a href="introduction-to-r.html#cb283-2" aria-hidden="true" tabindex="-1"></a>y</span></code></pre></div>
<pre><code>##      [,1] [,2]
## [1,]    1    4
## [2,]    2    5
## [3,]    3    6</code></pre>
<p>Note that the above matrices are filled by columns (the default). If we want to change this, we can use the next argument <code>byrow</code>.</p>
<div class="sourceCode" id="cb285"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb285-1"><a href="introduction-to-r.html#cb285-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>, <span class="dv">6</span>), <span class="at">nrow =</span> <span class="dv">3</span>, <span class="at">ncol =</span> <span class="dv">2</span>, <span class="at">byrow =</span> <span class="cn">TRUE</span>)</span>
<span id="cb285-2"><a href="introduction-to-r.html#cb285-2" aria-hidden="true" tabindex="-1"></a>x</span></code></pre></div>
<pre><code>##      [,1] [,2]
## [1,]    1    2
## [2,]    3    4
## [3,]    5    6</code></pre>
<div class="sourceCode" id="cb287"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb287-1"><a href="introduction-to-r.html#cb287-1" aria-hidden="true" tabindex="-1"></a>y <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>, <span class="dv">6</span>), <span class="at">nrow =</span> <span class="dv">2</span>, <span class="at">ncol =</span> <span class="dv">3</span>, <span class="at">byrow =</span> <span class="cn">TRUE</span>)</span>
<span id="cb287-2"><a href="introduction-to-r.html#cb287-2" aria-hidden="true" tabindex="-1"></a>y</span></code></pre></div>
<pre><code>##      [,1] [,2] [,3]
## [1,]    1    2    3
## [2,]    4    5    6</code></pre>
<p>In these notes, we will mainly use the default option of filling by columns.</p>
<p>If we only specify one of the arguments, <code>ncol</code> or <code>nrow</code>, R will attempt to find the other parameter from the length of the data.</p>
<div class="sourceCode" id="cb289"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb289-1"><a href="introduction-to-r.html#cb289-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>, <span class="dv">6</span>), <span class="at">ncol =</span> <span class="dv">2</span>)</span>
<span id="cb289-2"><a href="introduction-to-r.html#cb289-2" aria-hidden="true" tabindex="-1"></a>x</span></code></pre></div>
<pre><code>##      [,1] [,2]
## [1,]    1    4
## [2,]    2    5
## [3,]    3    6</code></pre>
<div class="sourceCode" id="cb291"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb291-1"><a href="introduction-to-r.html#cb291-1" aria-hidden="true" tabindex="-1"></a>y <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>, <span class="dv">6</span>), <span class="at">nrow =</span> <span class="dv">2</span>)</span>
<span id="cb291-2"><a href="introduction-to-r.html#cb291-2" aria-hidden="true" tabindex="-1"></a>y</span></code></pre></div>
<pre><code>##      [,1] [,2] [,3]
## [1,]    1    3    5
## [2,]    2    4    6</code></pre>
<p>Finally, if you specified the dimensions of the matrix and provided a vector of length larger than <code>ncol</code> x <code>nrow</code> ( i.e., the number of entries of the matrix), R will cut out the last elements.</p>
<div class="sourceCode" id="cb293"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb293-1"><a href="introduction-to-r.html#cb293-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>, <span class="dv">6</span>, <span class="dv">7</span>, <span class="dv">8</span>), <span class="dv">3</span>, <span class="dv">2</span>)</span></code></pre></div>
<pre><code>## Warning in matrix(c(1, 2, 3, 4, 5, 6, 7, 8), 3, 2): data length [8] is not a
## sub-multiple or multiple of the number of rows [3]</code></pre>
<div class="sourceCode" id="cb295"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb295-1"><a href="introduction-to-r.html#cb295-1" aria-hidden="true" tabindex="-1"></a>x</span></code></pre></div>
<pre><code>##      [,1] [,2]
## [1,]    1    4
## [2,]    2    5
## [3,]    3    6</code></pre>
<p>The last argument, <code>dimnames</code>, helps us give names to a matrix’s rows and columns.</p>
<div class="sourceCode" id="cb297"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb297-1"><a href="introduction-to-r.html#cb297-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>, <span class="dv">6</span>), <span class="dv">3</span>, <span class="dv">2</span>, </span>
<span id="cb297-2"><a href="introduction-to-r.html#cb297-2" aria-hidden="true" tabindex="-1"></a>            <span class="at">dimnames =</span> <span class="fu">list</span>(<span class="fu">c</span>(<span class="st">&quot;Row1&quot;</span>, <span class="st">&quot;Row2&quot;</span>, <span class="st">&quot;Row3&quot;</span>), <span class="fu">c</span>(<span class="st">&quot;Column1&quot;</span>, <span class="st">&quot;Column2&quot;</span>)))</span>
<span id="cb297-3"><a href="introduction-to-r.html#cb297-3" aria-hidden="true" tabindex="-1"></a>x</span></code></pre></div>
<pre><code>##      Column1 Column2
## Row1       1       4
## Row2       2       5
## Row3       3       6</code></pre>
<p>However, if you need to add names, we recommend using the <code>colnames()</code> and <code>rownames()</code> functions to keep your code clearer.</p>
<div class="sourceCode" id="cb299"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb299-1"><a href="introduction-to-r.html#cb299-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>, <span class="dv">6</span>), <span class="at">nrow =</span> <span class="dv">3</span>, <span class="at">ncol =</span> <span class="dv">2</span>)</span>
<span id="cb299-2"><a href="introduction-to-r.html#cb299-2" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(x) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;Column1&quot;</span>, <span class="st">&quot;Column2&quot;</span>)</span>
<span id="cb299-3"><a href="introduction-to-r.html#cb299-3" aria-hidden="true" tabindex="-1"></a><span class="fu">rownames</span>(x) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;Row1&quot;</span>, <span class="st">&quot;Row2&quot;</span>, <span class="st">&quot;Row3&quot;</span>)</span>
<span id="cb299-4"><a href="introduction-to-r.html#cb299-4" aria-hidden="true" tabindex="-1"></a>x</span></code></pre></div>
<pre><code>##      Column1 Column2
## Row1       1       4
## Row2       2       5
## Row3       3       6</code></pre>
<div class="remark">
<p><span id="unlabeled-div-13" class="remark"><em>Remark</em>. </span>Sometimes you will encounter matrices that are defined using data vectors created with the <code>c()</code> function applied multiple times. For instance,</p>
<div class="sourceCode" id="cb301"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb301-1"><a href="introduction-to-r.html#cb301-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="fu">c</span>(<span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>), <span class="fu">c</span>(<span class="dv">4</span>, <span class="dv">5</span>, <span class="dv">6</span>)), <span class="dv">3</span>, <span class="dv">2</span>)</span>
<span id="cb301-2"><a href="introduction-to-r.html#cb301-2" aria-hidden="true" tabindex="-1"></a>x</span></code></pre></div>
<pre><code>##      [,1] [,2]
## [1,]    1    4
## [2,]    2    5
## [3,]    3    6</code></pre>
<p>The reason is that this “notation” can help you to distinguish the different columns of your input, so it is easier to read and identify mistakes. Remember that <code>c(c(1, 2, 3), c(4, 5, 6))</code> produces the same vector as <code>c(1, 2, 3, 4, 5, 6)</code>.</p>
</div>
<p>You can verify if an object is a matrix using the <code>is.matrix()</code> function:</p>
<div class="sourceCode" id="cb303"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb303-1"><a href="introduction-to-r.html#cb303-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>, <span class="dv">6</span>), <span class="dv">3</span>, <span class="dv">2</span>)</span>
<span id="cb303-2"><a href="introduction-to-r.html#cb303-2" aria-hidden="true" tabindex="-1"></a><span class="fu">is.matrix</span>(x)</span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<div class="sourceCode" id="cb305"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb305-1"><a href="introduction-to-r.html#cb305-1" aria-hidden="true" tabindex="-1"></a>y <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>)</span>
<span id="cb305-2"><a href="introduction-to-r.html#cb305-2" aria-hidden="true" tabindex="-1"></a><span class="fu">is.matrix</span>(y)</span></code></pre></div>
<pre><code>## [1] FALSE</code></pre>
<p>Another important function for matrices is <code>dim()</code>. It has two functionalities. The first one is to tell the dimension of a matrix object.</p>
<div class="sourceCode" id="cb307"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb307-1"><a href="introduction-to-r.html#cb307-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>, <span class="dv">6</span>), <span class="dv">3</span>, <span class="dv">2</span>)</span>
<span id="cb307-2"><a href="introduction-to-r.html#cb307-2" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(x)</span></code></pre></div>
<pre><code>## [1] 3 2</code></pre>
<p>If we only require the number of columns or rows, we can use the <code>ncol()</code> and <code>nrow()</code> functions:</p>
<div class="sourceCode" id="cb309"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb309-1"><a href="introduction-to-r.html#cb309-1" aria-hidden="true" tabindex="-1"></a><span class="fu">nrow</span>(x)</span></code></pre></div>
<pre><code>## [1] 3</code></pre>
<div class="sourceCode" id="cb311"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb311-1"><a href="introduction-to-r.html#cb311-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ncol</span>(x)</span></code></pre></div>
<pre><code>## [1] 2</code></pre>
<p>The second functionality of <code>dim()</code> is to transform vectors into matrices.</p>
<div class="sourceCode" id="cb313"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb313-1"><a href="introduction-to-r.html#cb313-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>, <span class="dv">6</span>)</span>
<span id="cb313-2"><a href="introduction-to-r.html#cb313-2" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(x) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">3</span>, <span class="dv">2</span>)</span>
<span id="cb313-3"><a href="introduction-to-r.html#cb313-3" aria-hidden="true" tabindex="-1"></a>x</span></code></pre></div>
<pre><code>##      [,1] [,2]
## [1,]    1    4
## [2,]    2    5
## [3,]    3    6</code></pre>
<p>A matrix can also be obtained by first generating two or more vectors and then combining them using the <code>cbind()</code> or the <code>rbind()</code> functions. The <code>cbind()</code> function combine the vectors by making them columns of a new matrix:</p>
<div class="sourceCode" id="cb315"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb315-1"><a href="introduction-to-r.html#cb315-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="dv">2</span><span class="sc">:</span><span class="dv">5</span></span>
<span id="cb315-2"><a href="introduction-to-r.html#cb315-2" aria-hidden="true" tabindex="-1"></a>y <span class="ot">&lt;-</span> <span class="dv">9</span><span class="sc">:</span><span class="dv">6</span> </span>
<span id="cb315-3"><a href="introduction-to-r.html#cb315-3" aria-hidden="true" tabindex="-1"></a><span class="fu">cbind</span>(x, y) <span class="co"># Note that the columns have been named</span></span></code></pre></div>
<pre><code>##      x y
## [1,] 2 9
## [2,] 3 8
## [3,] 4 7
## [4,] 5 6</code></pre>
<p>While the <code>rbind()</code> function makes them rows:</p>
<div class="sourceCode" id="cb317"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb317-1"><a href="introduction-to-r.html#cb317-1" aria-hidden="true" tabindex="-1"></a><span class="fu">rbind</span>(x, y) <span class="co"># Note that the rows have been named</span></span></code></pre></div>
<pre><code>##   [,1] [,2] [,3] [,4]
## x    2    3    4    5
## y    9    8    7    6</code></pre>
<p>We can also create diagonal matrices by using the <code>diag()</code> function.</p>
<div class="sourceCode" id="cb319"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb319-1"><a href="introduction-to-r.html#cb319-1" aria-hidden="true" tabindex="-1"></a><span class="fu">diag</span>(<span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>))</span></code></pre></div>
<pre><code>##      [,1] [,2] [,3] [,4]
## [1,]    1    0    0    0
## [2,]    0    2    0    0
## [3,]    0    0    3    0
## [4,]    0    0    0    4</code></pre>
<p>To create an identity matrix, we simply type:</p>
<div class="sourceCode" id="cb321"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb321-1"><a href="introduction-to-r.html#cb321-1" aria-hidden="true" tabindex="-1"></a><span class="fu">diag</span>(<span class="dv">4</span>)</span></code></pre></div>
<pre><code>##      [,1] [,2] [,3] [,4]
## [1,]    1    0    0    0
## [2,]    0    1    0    0
## [3,]    0    0    1    0
## [4,]    0    0    0    1</code></pre>
<div id="accessing-matrix-elements" class="section level4 unnumbered hasAnchor">
<h4>Accessing matrix elements<a href="introduction-to-r.html#accessing-matrix-elements" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>To access elements of a matrix, we can use the <code>[]</code> notation. This is done in a similar way as in vectors, but in this case, we have to specify the rows and columns (<code>[row, column</code>]).</p>
<div class="sourceCode" id="cb323"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb323-1"><a href="introduction-to-r.html#cb323-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">6</span>, <span class="dv">3</span>)</span>
<span id="cb323-2"><a href="introduction-to-r.html#cb323-2" aria-hidden="true" tabindex="-1"></a>x</span></code></pre></div>
<pre><code>##      [,1] [,2]
## [1,]    1    4
## [2,]    2    5
## [3,]    3    6</code></pre>
<div class="sourceCode" id="cb325"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb325-1"><a href="introduction-to-r.html#cb325-1" aria-hidden="true" tabindex="-1"></a>x[<span class="dv">3</span>, <span class="dv">2</span>]</span></code></pre></div>
<pre><code>## [1] 6</code></pre>
<p>We can also modify these values:</p>
<div class="sourceCode" id="cb327"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb327-1"><a href="introduction-to-r.html#cb327-1" aria-hidden="true" tabindex="-1"></a>x[<span class="dv">3</span>, <span class="dv">2</span>] <span class="ot">&lt;-</span> <span class="dv">8</span></span>
<span id="cb327-2"><a href="introduction-to-r.html#cb327-2" aria-hidden="true" tabindex="-1"></a>x</span></code></pre></div>
<pre><code>##      [,1] [,2]
## [1,]    1    4
## [2,]    2    5
## [3,]    3    8</code></pre>
<p>If we want a whole row of the matrix, we leave the second argument blank:</p>
<div class="sourceCode" id="cb329"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb329-1"><a href="introduction-to-r.html#cb329-1" aria-hidden="true" tabindex="-1"></a>x[<span class="dv">2</span>, ]</span></code></pre></div>
<pre><code>## [1] 2 5</code></pre>
<p>Similarly, for columns:</p>
<div class="sourceCode" id="cb331"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb331-1"><a href="introduction-to-r.html#cb331-1" aria-hidden="true" tabindex="-1"></a>x[, <span class="dv">1</span>]</span></code></pre></div>
<pre><code>## [1] 1 2 3</code></pre>
<p>We can select multiple rows (or columns) using the <code>c()</code> function:</p>
<div class="sourceCode" id="cb333"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb333-1"><a href="introduction-to-r.html#cb333-1" aria-hidden="true" tabindex="-1"></a>x[<span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">3</span>), ]</span></code></pre></div>
<pre><code>##      [,1] [,2]
## [1,]    1    4
## [2,]    3    8</code></pre>
<div class="sourceCode" id="cb335"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb335-1"><a href="introduction-to-r.html#cb335-1" aria-hidden="true" tabindex="-1"></a>x[<span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">3</span>), <span class="dv">2</span>]</span></code></pre></div>
<pre><code>## [1] 4 8</code></pre>
<p>Negative values can be used to discart certain rows (or columns):</p>
<div class="sourceCode" id="cb337"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb337-1"><a href="introduction-to-r.html#cb337-1" aria-hidden="true" tabindex="-1"></a>x[, <span class="sc">-</span><span class="dv">2</span>]</span></code></pre></div>
<pre><code>## [1] 1 2 3</code></pre>
<div class="sourceCode" id="cb339"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb339-1"><a href="introduction-to-r.html#cb339-1" aria-hidden="true" tabindex="-1"></a>x[<span class="sc">-</span><span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">3</span>), <span class="sc">-</span><span class="dv">2</span>]</span></code></pre></div>
<pre><code>## [1] 2</code></pre>
<p>Additionally, we can also use logical operators to subtract data. For instance, consider the following matrix:</p>
<div class="sourceCode" id="cb341"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb341-1"><a href="introduction-to-r.html#cb341-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="fu">c</span>(<span class="fu">c</span>(<span class="dv">10</span>, <span class="sc">-</span><span class="dv">2</span>, <span class="dv">3</span>), <span class="fu">c</span>(<span class="dv">8</span>, <span class="dv">0</span>, <span class="sc">-</span><span class="dv">5</span>)), <span class="dv">3</span>, <span class="dv">2</span>)</span>
<span id="cb341-2"><a href="introduction-to-r.html#cb341-2" aria-hidden="true" tabindex="-1"></a>x</span></code></pre></div>
<pre><code>##      [,1] [,2]
## [1,]   10    8
## [2,]   -2    0
## [3,]    3   -5</code></pre>
<p>If, for example, we were required to subset the matrix in such a way that we only keep the rows with values in the first column that are non-negative, this can be done as follows:</p>
<div class="sourceCode" id="cb343"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb343-1"><a href="introduction-to-r.html#cb343-1" aria-hidden="true" tabindex="-1"></a>x[x[, <span class="dv">1</span>] <span class="sc">&gt;=</span> <span class="dv">0</span>, ]</span></code></pre></div>
<pre><code>##      [,1] [,2]
## [1,]   10    8
## [2,]    3   -5</code></pre>
<p>What about subsetting the matrix in such a way that we only keep rows that has only non-negative in both columns:</p>
<div class="sourceCode" id="cb345"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb345-1"><a href="introduction-to-r.html#cb345-1" aria-hidden="true" tabindex="-1"></a>x[x[, <span class="dv">1</span>] <span class="sc">&gt;=</span> <span class="dv">0</span> <span class="sc">&amp;</span> x[, <span class="dv">2</span>] <span class="sc">&gt;=</span> <span class="dv">0</span>, ]</span></code></pre></div>
<pre><code>## [1] 10  8</code></pre>
<p>Finally, if your matrix has column or row names, you can you those names to subtract information:</p>
<div class="sourceCode" id="cb347"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb347-1"><a href="introduction-to-r.html#cb347-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>, <span class="dv">6</span>), <span class="at">nrow =</span> <span class="dv">3</span>, <span class="at">ncol =</span> <span class="dv">2</span>)</span>
<span id="cb347-2"><a href="introduction-to-r.html#cb347-2" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(x) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;Column1&quot;</span>, <span class="st">&quot;Column2&quot;</span>)</span>
<span id="cb347-3"><a href="introduction-to-r.html#cb347-3" aria-hidden="true" tabindex="-1"></a><span class="fu">rownames</span>(x) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;Row1&quot;</span>, <span class="st">&quot;Row2&quot;</span>, <span class="st">&quot;Row3&quot;</span>)</span>
<span id="cb347-4"><a href="introduction-to-r.html#cb347-4" aria-hidden="true" tabindex="-1"></a>x</span></code></pre></div>
<pre><code>##      Column1 Column2
## Row1       1       4
## Row2       2       5
## Row3       3       6</code></pre>
<div class="sourceCode" id="cb349"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb349-1"><a href="introduction-to-r.html#cb349-1" aria-hidden="true" tabindex="-1"></a>x[<span class="st">&quot;Row2&quot;</span>, <span class="st">&quot;Column1&quot;</span>]</span></code></pre></div>
<pre><code>## [1] 2</code></pre>
<div class="sourceCode" id="cb351"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb351-1"><a href="introduction-to-r.html#cb351-1" aria-hidden="true" tabindex="-1"></a>x[<span class="fu">c</span>(<span class="st">&quot;Row2&quot;</span>, <span class="st">&quot;Row1&quot;</span>), <span class="st">&quot;Column1&quot;</span>]</span></code></pre></div>
<pre><code>## Row2 Row1 
##    2    1</code></pre>
<div class="remark">
<p><span id="unlabeled-div-14" class="remark"><em>Remark</em>. </span>In the last example, you may have noticed that the output of the last command is a vector with names for its elements. You can also give names to the entries of a vector by using the <code>names()</code> function. For instance,</p>
<div class="sourceCode" id="cb353"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb353-1"><a href="introduction-to-r.html#cb353-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>)</span>
<span id="cb353-2"><a href="introduction-to-r.html#cb353-2" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(x) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;name1&quot;</span>, <span class="st">&quot;name2&quot;</span>)</span>
<span id="cb353-3"><a href="introduction-to-r.html#cb353-3" aria-hidden="true" tabindex="-1"></a>x</span></code></pre></div>
<pre><code>## name1 name2 
##     1     2</code></pre>
<p>However, this functionality is not used very often.</p>
</div>
</div>
<div id="operations-with-matrices" class="section level4 unnumbered hasAnchor">
<h4>Operations with matrices<a href="introduction-to-r.html#operations-with-matrices" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Matrices behave pretty much in the same way as vectors when dealing with scalars and functions of scalars:</p>
<div class="sourceCode" id="cb355"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb355-1"><a href="introduction-to-r.html#cb355-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">6</span>, <span class="dv">3</span>)</span>
<span id="cb355-2"><a href="introduction-to-r.html#cb355-2" aria-hidden="true" tabindex="-1"></a>x</span></code></pre></div>
<pre><code>##      [,1] [,2]
## [1,]    1    4
## [2,]    2    5
## [3,]    3    6</code></pre>
<div class="sourceCode" id="cb357"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb357-1"><a href="introduction-to-r.html#cb357-1" aria-hidden="true" tabindex="-1"></a>x<span class="sc">^</span><span class="dv">2</span> <span class="co"># Each element to the power 2</span></span></code></pre></div>
<pre><code>##      [,1] [,2]
## [1,]    1   16
## [2,]    4   25
## [3,]    9   36</code></pre>
<div class="sourceCode" id="cb359"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb359-1"><a href="introduction-to-r.html#cb359-1" aria-hidden="true" tabindex="-1"></a><span class="fu">exp</span>(x) <span class="co"># Exp applied element-wise</span></span></code></pre></div>
<pre><code>##           [,1]      [,2]
## [1,]  2.718282  54.59815
## [2,]  7.389056 148.41316
## [3,] 20.085537 403.42879</code></pre>
<p>When working with matrices of the same dimension, the computations will be performed element-wise:</p>
<div class="sourceCode" id="cb361"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb361-1"><a href="introduction-to-r.html#cb361-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">6</span>, <span class="dv">3</span>)</span>
<span id="cb361-2"><a href="introduction-to-r.html#cb361-2" aria-hidden="true" tabindex="-1"></a>x</span></code></pre></div>
<pre><code>##      [,1] [,2]
## [1,]    1    4
## [2,]    2    5
## [3,]    3    6</code></pre>
<div class="sourceCode" id="cb363"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb363-1"><a href="introduction-to-r.html#cb363-1" aria-hidden="true" tabindex="-1"></a>y <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="dv">6</span><span class="sc">:</span><span class="dv">1</span>, <span class="dv">3</span>)</span>
<span id="cb363-2"><a href="introduction-to-r.html#cb363-2" aria-hidden="true" tabindex="-1"></a>y</span></code></pre></div>
<pre><code>##      [,1] [,2]
## [1,]    6    3
## [2,]    5    2
## [3,]    4    1</code></pre>
<div class="sourceCode" id="cb365"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb365-1"><a href="introduction-to-r.html#cb365-1" aria-hidden="true" tabindex="-1"></a>x <span class="sc">+</span> y</span></code></pre></div>
<pre><code>##      [,1] [,2]
## [1,]    7    7
## [2,]    7    7
## [3,]    7    7</code></pre>
<div class="sourceCode" id="cb367"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb367-1"><a href="introduction-to-r.html#cb367-1" aria-hidden="true" tabindex="-1"></a>x<span class="sc">^</span>y</span></code></pre></div>
<pre><code>##      [,1] [,2]
## [1,]    1   64
## [2,]   32   25
## [3,]   81    6</code></pre>
<div class="remark">
<p><span id="unlabeled-div-15" class="remark"><em>Remark</em>. </span>You can also perform calculations between vectors and matrices. Just be aware that R will recycle information to do so. For instance,</p>
<div class="sourceCode" id="cb369"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb369-1"><a href="introduction-to-r.html#cb369-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">6</span>, <span class="dv">3</span>)</span>
<span id="cb369-2"><a href="introduction-to-r.html#cb369-2" aria-hidden="true" tabindex="-1"></a>y <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fl">0.5</span>, <span class="dv">2</span>)</span>
<span id="cb369-3"><a href="introduction-to-r.html#cb369-3" aria-hidden="true" tabindex="-1"></a>x <span class="sc">*</span> y</span></code></pre></div>
<pre><code>##      [,1] [,2]
## [1,]  0.5  8.0
## [2,]  4.0  2.5
## [3,]  1.5 12.0</code></pre>
<div class="sourceCode" id="cb371"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb371-1"><a href="introduction-to-r.html#cb371-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Equivalently</span></span>
<span id="cb371-2"><a href="introduction-to-r.html#cb371-2" aria-hidden="true" tabindex="-1"></a>y <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="fu">rep</span>(<span class="fu">c</span>(<span class="fl">0.5</span>, <span class="dv">2</span>), <span class="dv">3</span>), <span class="dv">3</span>)</span>
<span id="cb371-3"><a href="introduction-to-r.html#cb371-3" aria-hidden="true" tabindex="-1"></a>y</span></code></pre></div>
<pre><code>##      [,1] [,2]
## [1,]  0.5  2.0
## [2,]  2.0  0.5
## [3,]  0.5  2.0</code></pre>
<div class="sourceCode" id="cb373"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb373-1"><a href="introduction-to-r.html#cb373-1" aria-hidden="true" tabindex="-1"></a>x <span class="sc">*</span> y</span></code></pre></div>
<pre><code>##      [,1] [,2]
## [1,]  0.5  8.0
## [2,]  4.0  2.5
## [3,]  1.5 12.0</code></pre>
</div>
<p>There are other important operations among matrices. Let us review some of them. To perform matrix multiplication, we need to use the <code>%*%</code> operator (remember <code>*</code> is an element-wise product):</p>
<div class="sourceCode" id="cb375"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb375-1"><a href="introduction-to-r.html#cb375-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>, <span class="dv">2</span>)</span>
<span id="cb375-2"><a href="introduction-to-r.html#cb375-2" aria-hidden="true" tabindex="-1"></a>x</span></code></pre></div>
<pre><code>##      [,1] [,2]
## [1,]    1    3
## [2,]    2    4</code></pre>
<div class="sourceCode" id="cb377"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb377-1"><a href="introduction-to-r.html#cb377-1" aria-hidden="true" tabindex="-1"></a>y <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="dv">4</span><span class="sc">:</span><span class="dv">1</span>, <span class="dv">2</span>)</span>
<span id="cb377-2"><a href="introduction-to-r.html#cb377-2" aria-hidden="true" tabindex="-1"></a>y</span></code></pre></div>
<pre><code>##      [,1] [,2]
## [1,]    4    2
## [2,]    3    1</code></pre>
<div class="sourceCode" id="cb379"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb379-1"><a href="introduction-to-r.html#cb379-1" aria-hidden="true" tabindex="-1"></a>x <span class="sc">%*%</span> y</span></code></pre></div>
<pre><code>##      [,1] [,2]
## [1,]   13    5
## [2,]   20    8</code></pre>
<p>The transpose of a matrix can be computed with the <code>t()</code> function:</p>
<div class="sourceCode" id="cb381"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb381-1"><a href="introduction-to-r.html#cb381-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">6</span>, <span class="dv">3</span>)</span>
<span id="cb381-2"><a href="introduction-to-r.html#cb381-2" aria-hidden="true" tabindex="-1"></a>x</span></code></pre></div>
<pre><code>##      [,1] [,2]
## [1,]    1    4
## [2,]    2    5
## [3,]    3    6</code></pre>
<div class="sourceCode" id="cb383"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb383-1"><a href="introduction-to-r.html#cb383-1" aria-hidden="true" tabindex="-1"></a><span class="fu">t</span>(x)</span></code></pre></div>
<pre><code>##      [,1] [,2] [,3]
## [1,]    1    2    3
## [2,]    4    5    6</code></pre>
<p>The inverse of a matrix can be obtained with the <code>solve()</code> function (we recommend to check the help for more detail <code>?solve()</code>):</p>
<div class="sourceCode" id="cb385"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb385-1"><a href="introduction-to-r.html#cb385-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>, <span class="dv">2</span>)</span>
<span id="cb385-2"><a href="introduction-to-r.html#cb385-2" aria-hidden="true" tabindex="-1"></a><span class="fu">solve</span>(x)</span></code></pre></div>
<pre><code>##      [,1] [,2]
## [1,]   -2  1.5
## [2,]    1 -0.5</code></pre>
<div class="sourceCode" id="cb387"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb387-1"><a href="introduction-to-r.html#cb387-1" aria-hidden="true" tabindex="-1"></a>x <span class="sc">%*%</span> <span class="fu">solve</span>(x) <span class="co"># To check the result</span></span></code></pre></div>
<pre><code>##      [,1] [,2]
## [1,]    1    0
## [2,]    0    1</code></pre>
<p>We may also be performing operation column- or row-wise. For instance, compute the mean by row (or column). To do so, we can use vector functions in conjunction with the <code>apply(X, MARGIN, FUN, ...)</code> function. The argument of <code>apply()</code> are: <code>X</code> a matrix, <code>MARGIN</code>, which can be 1 for rows, 2 for columns or <code>c(1, 2)</code> for rows and columns, and <code>FUN</code> the function to be applied.
For instance, let us compute the mean by rows and columns:</p>
<div class="sourceCode" id="cb389"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb389-1"><a href="introduction-to-r.html#cb389-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">6</span>, <span class="dv">3</span>)</span>
<span id="cb389-2"><a href="introduction-to-r.html#cb389-2" aria-hidden="true" tabindex="-1"></a>x</span></code></pre></div>
<pre><code>##      [,1] [,2]
## [1,]    1    4
## [2,]    2    5
## [3,]    3    6</code></pre>
<div class="sourceCode" id="cb391"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb391-1"><a href="introduction-to-r.html#cb391-1" aria-hidden="true" tabindex="-1"></a><span class="fu">apply</span>(x, <span class="dv">1</span>, mean)</span></code></pre></div>
<pre><code>## [1] 2.5 3.5 4.5</code></pre>
<div class="sourceCode" id="cb393"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb393-1"><a href="introduction-to-r.html#cb393-1" aria-hidden="true" tabindex="-1"></a><span class="fu">apply</span>(x, <span class="dv">2</span>, mean)</span></code></pre></div>
<pre><code>## [1] 2 5</code></pre>
<div class="remark">
<p><span id="unlabeled-div-16" class="remark"><em>Remark</em>. </span>Matrices can been seen as 2-dimensional arrays. We can create n-dimensional arrays by using the <code>array()</code> function.</p>
<div class="sourceCode" id="cb395"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb395-1"><a href="introduction-to-r.html#cb395-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">array</span>(<span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>, <span class="dv">11</span><span class="sc">:</span><span class="dv">14</span>, <span class="dv">21</span><span class="sc">:</span><span class="dv">24</span>), <span class="at">dim =</span> <span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">2</span>, <span class="dv">3</span>)) <span class="co"># Note that here we use dim for the dimensions</span></span>
<span id="cb395-2"><a href="introduction-to-r.html#cb395-2" aria-hidden="true" tabindex="-1"></a>x</span></code></pre></div>
<pre><code>## , , 1
## 
##      [,1] [,2]
## [1,]    1    3
## [2,]    2    4
## 
## , , 2
## 
##      [,1] [,2]
## [1,]   11   13
## [2,]   12   14
## 
## , , 3
## 
##      [,1] [,2]
## [1,]   21   23
## [2,]   22   24</code></pre>
<p>Acceding their elements is done in the same way as matrices, by using <code>[]</code>.</p>
<div class="sourceCode" id="cb397"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb397-1"><a href="introduction-to-r.html#cb397-1" aria-hidden="true" tabindex="-1"></a>x[<span class="dv">1</span>, , ] </span></code></pre></div>
<pre><code>##      [,1] [,2] [,3]
## [1,]    1   11   21
## [2,]    3   13   23</code></pre>
<div class="sourceCode" id="cb399"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb399-1"><a href="introduction-to-r.html#cb399-1" aria-hidden="true" tabindex="-1"></a>x[, <span class="dv">1</span>, ] </span></code></pre></div>
<pre><code>##      [,1] [,2] [,3]
## [1,]    1   11   21
## [2,]    2   12   22</code></pre>
<div class="sourceCode" id="cb401"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb401-1"><a href="introduction-to-r.html#cb401-1" aria-hidden="true" tabindex="-1"></a>x[, , <span class="dv">1</span>]</span></code></pre></div>
<pre><code>##      [,1] [,2]
## [1,]    1    3
## [2,]    2    4</code></pre>
<p>However, array objects do not have the same versatility as matrices.</p>
</div>
</div>
</div>
<div id="data-frames" class="section level3 hasAnchor" number="1.5.2">
<h3><span class="header-section-number">1.5.2</span> Data frames<a href="introduction-to-r.html#data-frames" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Matrices can store only one data type. However, we may want to save more than one type of data in a matrix type of format — for instance, students’ names and their grades. Data frames allow you to do precisely that. To create a data frame, we use the <code>data.frame()</code> function.</p>
<div class="sourceCode" id="cb403"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb403-1"><a href="introduction-to-r.html#cb403-1" aria-hidden="true" tabindex="-1"></a>names <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;student1&quot;</span>, <span class="st">&quot;student2&quot;</span>, <span class="st">&quot;student3&quot;</span>, <span class="st">&quot;student4&quot;</span>)</span>
<span id="cb403-2"><a href="introduction-to-r.html#cb403-2" aria-hidden="true" tabindex="-1"></a>grades <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">90</span>, <span class="dv">95</span>, <span class="dv">85</span>, <span class="dv">70</span>)</span>
<span id="cb403-3"><a href="introduction-to-r.html#cb403-3" aria-hidden="true" tabindex="-1"></a>students <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(names, grades)</span>
<span id="cb403-4"><a href="introduction-to-r.html#cb403-4" aria-hidden="true" tabindex="-1"></a>students</span></code></pre></div>
<pre><code>##      names grades
## 1 student1     90
## 2 student2     95
## 3 student3     85
## 4 student4     70</code></pre>
<p>Note that <code>data.frame()</code> have named the object’s columns. You can check if an R object is a data frame with the <code>is.data.frame()</code> function:</p>
<div class="sourceCode" id="cb405"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb405-1"><a href="introduction-to-r.html#cb405-1" aria-hidden="true" tabindex="-1"></a><span class="fu">is.data.frame</span>(students)</span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<p>Data frames allow to access data using <code>[]</code> in the same way as matrices:</p>
<div class="sourceCode" id="cb407"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb407-1"><a href="introduction-to-r.html#cb407-1" aria-hidden="true" tabindex="-1"></a>students[<span class="dv">1</span>, ] <span class="co"># Information of first student</span></span></code></pre></div>
<pre><code>##      names grades
## 1 student1     90</code></pre>
<div class="sourceCode" id="cb409"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb409-1"><a href="introduction-to-r.html#cb409-1" aria-hidden="true" tabindex="-1"></a>students[, <span class="dv">1</span>] <span class="co"># Grades</span></span></code></pre></div>
<pre><code>## [1] &quot;student1&quot; &quot;student2&quot; &quot;student3&quot; &quot;student4&quot;</code></pre>
<div class="sourceCode" id="cb411"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb411-1"><a href="introduction-to-r.html#cb411-1" aria-hidden="true" tabindex="-1"></a>students[<span class="dv">2</span>, <span class="dv">2</span>] <span class="co"># Grades of second student</span></span></code></pre></div>
<pre><code>## [1] 95</code></pre>
<div class="sourceCode" id="cb413"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb413-1"><a href="introduction-to-r.html#cb413-1" aria-hidden="true" tabindex="-1"></a>students[students[, <span class="dv">2</span>] <span class="sc">&gt;</span> <span class="dv">80</span>, ] <span class="co"># Students with grades above 80</span></span></code></pre></div>
<pre><code>##      names grades
## 1 student1     90
## 2 student2     95
## 3 student3     85</code></pre>
<p>Data frames can also use the <code>$</code> operator to access data in a specific column. You simply type the name of the data frame object followed by the <code>$</code> operator and the column’s name. For instance,</p>
<div class="sourceCode" id="cb415"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb415-1"><a href="introduction-to-r.html#cb415-1" aria-hidden="true" tabindex="-1"></a>students<span class="sc">$</span>grades</span></code></pre></div>
<pre><code>## [1] 90 95 85 70</code></pre>
<p>Or access an specific element</p>
<div class="sourceCode" id="cb417"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb417-1"><a href="introduction-to-r.html#cb417-1" aria-hidden="true" tabindex="-1"></a>students<span class="sc">$</span>grades[<span class="dv">1</span>]</span></code></pre></div>
<pre><code>## [1] 90</code></pre>
<p>Alternatively, you can use the name of the column inside <code>[]</code>:</p>
<div class="sourceCode" id="cb419"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb419-1"><a href="introduction-to-r.html#cb419-1" aria-hidden="true" tabindex="-1"></a>students[, <span class="st">&quot;grades&quot;</span>]</span></code></pre></div>
<pre><code>## [1] 90 95 85 70</code></pre>
<p>The next thing that you want to do with a data frame is to add more information. This can be done with the <code>cbind()</code> function. For instance,</p>
<div class="sourceCode" id="cb421"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb421-1"><a href="introduction-to-r.html#cb421-1" aria-hidden="true" tabindex="-1"></a>age <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">20</span>, <span class="dv">21</span>, <span class="dv">21</span>, <span class="dv">19</span>)</span>
<span id="cb421-2"><a href="introduction-to-r.html#cb421-2" aria-hidden="true" tabindex="-1"></a>students <span class="ot">&lt;-</span> <span class="fu">cbind</span>(students, age)</span>
<span id="cb421-3"><a href="introduction-to-r.html#cb421-3" aria-hidden="true" tabindex="-1"></a>students</span></code></pre></div>
<pre><code>##      names grades age
## 1 student1     90  20
## 2 student2     95  21
## 3 student3     85  21
## 4 student4     70  19</code></pre>
<p>Alternatively, you can use the <code>$</code> operator:</p>
<div class="sourceCode" id="cb423"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb423-1"><a href="introduction-to-r.html#cb423-1" aria-hidden="true" tabindex="-1"></a>students<span class="sc">$</span>email <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;st1@liv.co&quot;</span>, <span class="st">&quot;st2@liv.co&quot;</span>, <span class="st">&quot;st3@liv.co&quot;</span>, <span class="st">&quot;st4@liv.co&quot;</span>)</span>
<span id="cb423-2"><a href="introduction-to-r.html#cb423-2" aria-hidden="true" tabindex="-1"></a>students</span></code></pre></div>
<pre><code>##      names grades age      email
## 1 student1     90  20 st1@liv.co
## 2 student2     95  21 st2@liv.co
## 3 student3     85  21 st3@liv.co
## 4 student4     70  19 st4@liv.co</code></pre>
<p>Or even <code>[]</code>:</p>
<div class="sourceCode" id="cb425"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb425-1"><a href="introduction-to-r.html#cb425-1" aria-hidden="true" tabindex="-1"></a>students[, <span class="dv">5</span>] <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>)</span></code></pre></div>
<p>The names of the columns can be accessed (and changed) using the function <code>names()</code>:</p>
<div class="sourceCode" id="cb426"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb426-1"><a href="introduction-to-r.html#cb426-1" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(students)</span></code></pre></div>
<pre><code>## [1] &quot;names&quot;  &quot;grades&quot; &quot;age&quot;    &quot;email&quot;  &quot;V5&quot;</code></pre>
<div class="sourceCode" id="cb428"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb428-1"><a href="introduction-to-r.html#cb428-1" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(students)[<span class="dv">5</span>] <span class="ot">&lt;-</span> <span class="st">&quot;id&quot;</span></span>
<span id="cb428-2"><a href="introduction-to-r.html#cb428-2" aria-hidden="true" tabindex="-1"></a>students</span></code></pre></div>
<pre><code>##      names grades age      email id
## 1 student1     90  20 st1@liv.co  1
## 2 student2     95  21 st2@liv.co  2
## 3 student3     85  21 st3@liv.co  3
## 4 student4     70  19 st4@liv.co  4</code></pre>
</div>
<div id="lists" class="section level3 hasAnchor" number="1.5.3">
<h3><span class="header-section-number">1.5.3</span> Lists<a href="introduction-to-r.html#lists" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>A list enables to store a variety of objects into a single one. In contrast to data frames, lists can contain different data types of different lengths. Lists can be generated in R by using the function <code>list()</code>.</p>
<div class="sourceCode" id="cb430"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb430-1"><a href="introduction-to-r.html#cb430-1" aria-hidden="true" tabindex="-1"></a>month <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;Jan&quot;</span>, <span class="st">&quot;Feb&quot;</span>, <span class="st">&quot;Mar&quot;</span>)</span>
<span id="cb430-2"><a href="introduction-to-r.html#cb430-2" aria-hidden="true" tabindex="-1"></a>value <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fl">1.21</span>, <span class="fl">1.245</span>, <span class="fl">1.402</span>)</span>
<span id="cb430-3"><a href="introduction-to-r.html#cb430-3" aria-hidden="true" tabindex="-1"></a>type <span class="ot">&lt;-</span> <span class="st">&quot;monthly -interest -rate&quot;</span></span>
<span id="cb430-4"><a href="introduction-to-r.html#cb430-4" aria-hidden="true" tabindex="-1"></a>rate <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="at">Month =</span> month, <span class="at">Value =</span> value, <span class="at">Type =</span> type)</span>
<span id="cb430-5"><a href="introduction-to-r.html#cb430-5" aria-hidden="true" tabindex="-1"></a>rate</span></code></pre></div>
<pre><code>## $Month
## [1] &quot;Jan&quot; &quot;Feb&quot; &quot;Mar&quot;
## 
## $Value
## [1] 1.210 1.245 1.402
## 
## $Type
## [1] &quot;monthly -interest -rate&quot;</code></pre>
<p>The structure of a list object can also be displayed (in more compact format) using <code>str()</code>:</p>
<div class="sourceCode" id="cb432"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb432-1"><a href="introduction-to-r.html#cb432-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(rate)</span></code></pre></div>
<pre><code>## List of 3
##  $ Month: chr [1:3] &quot;Jan&quot; &quot;Feb&quot; &quot;Mar&quot;
##  $ Value: num [1:3] 1.21 1.25 1.4
##  $ Type : chr &quot;monthly -interest -rate&quot;</code></pre>
<p>As is the case with data frames, we can use <code>$</code> to access information:</p>
<div class="sourceCode" id="cb434"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb434-1"><a href="introduction-to-r.html#cb434-1" aria-hidden="true" tabindex="-1"></a>rate<span class="sc">$</span>Value</span></code></pre></div>
<pre><code>## [1] 1.210 1.245 1.402</code></pre>
<div class="sourceCode" id="cb436"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb436-1"><a href="introduction-to-r.html#cb436-1" aria-hidden="true" tabindex="-1"></a>rate<span class="sc">$</span>Month[<span class="dv">1</span>]</span></code></pre></div>
<pre><code>## [1] &quot;Jan&quot;</code></pre>
<p>We can also use <code>[]</code>. The notation, in this case, is slightly different:</p>
<div class="sourceCode" id="cb438"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb438-1"><a href="introduction-to-r.html#cb438-1" aria-hidden="true" tabindex="-1"></a>rate[[<span class="dv">1</span>]] <span class="co"># First element of a list, in this case, the months</span></span></code></pre></div>
<pre><code>## [1] &quot;Jan&quot; &quot;Feb&quot; &quot;Mar&quot;</code></pre>
<div class="sourceCode" id="cb440"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb440-1"><a href="introduction-to-r.html#cb440-1" aria-hidden="true" tabindex="-1"></a>rate[[<span class="dv">2</span>]][<span class="dv">2</span>] <span class="co"># Second value </span></span></code></pre></div>
<pre><code>## [1] 1.245</code></pre>
<p>To add more data to a list, we can do it in different ways. First, using the <code>$</code> operator:</p>
<div class="sourceCode" id="cb442"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb442-1"><a href="introduction-to-r.html#cb442-1" aria-hidden="true" tabindex="-1"></a>rate<span class="sc">$</span>Year <span class="ot">&lt;-</span> <span class="dv">2021</span></span>
<span id="cb442-2"><a href="introduction-to-r.html#cb442-2" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(rate)</span></code></pre></div>
<pre><code>## List of 4
##  $ Month: chr [1:3] &quot;Jan&quot; &quot;Feb&quot; &quot;Mar&quot;
##  $ Value: num [1:3] 1.21 1.25 1.4
##  $ Type : chr &quot;monthly -interest -rate&quot;
##  $ Year : num 2021</code></pre>
<p>And second, using <code>[]</code></p>
<div class="sourceCode" id="cb444"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb444-1"><a href="introduction-to-r.html#cb444-1" aria-hidden="true" tabindex="-1"></a>rate[[<span class="dv">5</span>]] <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;UK&quot;</span>)</span>
<span id="cb444-2"><a href="introduction-to-r.html#cb444-2" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(rate)</span></code></pre></div>
<pre><code>## List of 5
##  $ Month: chr [1:3] &quot;Jan&quot; &quot;Feb&quot; &quot;Mar&quot;
##  $ Value: num [1:3] 1.21 1.25 1.4
##  $ Type : chr &quot;monthly -interest -rate&quot;
##  $ Year : num 2021
##  $      : chr &quot;UK&quot;</code></pre>
<p>Names can be handle in the same way as data frames.</p>
<div class="sourceCode" id="cb446"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb446-1"><a href="introduction-to-r.html#cb446-1" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(rate)[<span class="dv">5</span>] <span class="ot">&lt;-</span> <span class="st">&quot;Country&quot;</span></span>
<span id="cb446-2"><a href="introduction-to-r.html#cb446-2" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(rate)</span></code></pre></div>
<pre><code>## List of 5
##  $ Month  : chr [1:3] &quot;Jan&quot; &quot;Feb&quot; &quot;Mar&quot;
##  $ Value  : num [1:3] 1.21 1.25 1.4
##  $ Type   : chr &quot;monthly -interest -rate&quot;
##  $ Year   : num 2021
##  $ Country: chr &quot;UK&quot;</code></pre>
</div>
</div>
<div id="functions" class="section level2 hasAnchor" number="1.6">
<h2><span class="header-section-number">1.6</span> Functions<a href="introduction-to-r.html#functions" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>So far, we have been only using built-in R functions. However, R also allows us to create our own functions. The basic syntax to define a new R function is shown below:</p>
<pre><code>function_name &lt;- function(arg1, arg2, ...) {
  statement(s)
}</code></pre>
<p>Let us try a very simple example first: compute the area of a circle given it radius. An implementation would be the following:</p>
<div class="sourceCode" id="cb449"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb449-1"><a href="introduction-to-r.html#cb449-1" aria-hidden="true" tabindex="-1"></a>area_circle<span class="ot">&lt;-</span> <span class="cf">function</span>(radius) {</span>
<span id="cb449-2"><a href="introduction-to-r.html#cb449-2" aria-hidden="true" tabindex="-1"></a>   pi <span class="sc">*</span> radius<span class="sc">^</span><span class="dv">2</span></span>
<span id="cb449-3"><a href="introduction-to-r.html#cb449-3" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<p>We can now call our function:</p>
<div class="sourceCode" id="cb450"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb450-1"><a href="introduction-to-r.html#cb450-1" aria-hidden="true" tabindex="-1"></a><span class="fu">area_circle</span>(<span class="dv">2</span>)</span></code></pre></div>
<pre><code>## [1] 12.56637</code></pre>
<p>We now consider a slightly more complicated example: Program the density function of an exponential distributed random variable <span class="math inline">\(X\)</span> with mean <span class="math inline">\(\lambda^{-1}\)</span>, <span class="math inline">\(\lambda &gt;0\)</span>. Recall that this density function is given by
<span class="math display">\[
f(x) = \lambda \exp(-\lambda x) \,, \quad x&gt;0 \,.
\]</span>
We write <span class="math inline">\(X \sim Exp(\lambda)\)</span>.</p>
<p>We now require two inputs for our function: the parameter <span class="math inline">\(\lambda\)</span> and the point where we evaluate the density <span class="math inline">\(x\)</span>.</p>
<div class="sourceCode" id="cb452"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb452-1"><a href="introduction-to-r.html#cb452-1" aria-hidden="true" tabindex="-1"></a>den_exponential<span class="ot">&lt;-</span> <span class="cf">function</span>(x, lambda) {</span>
<span id="cb452-2"><a href="introduction-to-r.html#cb452-2" aria-hidden="true" tabindex="-1"></a>   lambda <span class="sc">*</span> <span class="fu">exp</span>(<span class="sc">-</span>lambda <span class="sc">*</span> x)</span>
<span id="cb452-3"><a href="introduction-to-r.html#cb452-3" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<div class="sourceCode" id="cb453"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb453-1"><a href="introduction-to-r.html#cb453-1" aria-hidden="true" tabindex="-1"></a><span class="fu">den_exponential</span>(<span class="dv">1</span>, <span class="fl">0.5</span>)</span></code></pre></div>
<pre><code>## [1] 0.3032653</code></pre>
<p>When defining a function, we can give default values to the arguments. Let us make the default option of our exponential density, the standard exponential ,i.e., <span class="math inline">\(\lambda = 1\)</span>:</p>
<div class="sourceCode" id="cb455"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb455-1"><a href="introduction-to-r.html#cb455-1" aria-hidden="true" tabindex="-1"></a>den_exponential <span class="ot">&lt;-</span> <span class="cf">function</span>(x, <span class="at">lambda =</span> <span class="dv">1</span>) {</span>
<span id="cb455-2"><a href="introduction-to-r.html#cb455-2" aria-hidden="true" tabindex="-1"></a>   lambda <span class="sc">*</span> <span class="fu">exp</span>(<span class="sc">-</span>lambda <span class="sc">*</span> x)</span>
<span id="cb455-3"><a href="introduction-to-r.html#cb455-3" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<p>Thus, if we do not provide the function with the second parameter, it will use 1.</p>
<div class="sourceCode" id="cb456"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb456-1"><a href="introduction-to-r.html#cb456-1" aria-hidden="true" tabindex="-1"></a><span class="fu">den_exponential</span>(<span class="dv">1</span>)</span></code></pre></div>
<pre><code>## [1] 0.3678794</code></pre>
<p>We now give some important considerations when working with functions:</p>
<ul>
<li>You can return the result of a function using the <code>return()</code> function. In our functions above, we did not make use of this function, and the reason is that, by default, R returns the result of the last evaluated expression. However,<code>return()</code> can be used for early returns. For instance, the function below terminates after the first line and returns 1, ignoring the second line.</li>
</ul>
<div class="sourceCode" id="cb458"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb458-1"><a href="introduction-to-r.html#cb458-1" aria-hidden="true" tabindex="-1"></a>dummy_function <span class="ot">&lt;-</span> <span class="cf">function</span>(x) {</span>
<span id="cb458-2"><a href="introduction-to-r.html#cb458-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(<span class="dv">1</span>)</span>
<span id="cb458-3"><a href="introduction-to-r.html#cb458-3" aria-hidden="true" tabindex="-1"></a>  x <span class="sc">*</span> <span class="dv">2</span></span>
<span id="cb458-4"><a href="introduction-to-r.html#cb458-4" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb458-5"><a href="introduction-to-r.html#cb458-5" aria-hidden="true" tabindex="-1"></a><span class="fu">dummy_function</span>(<span class="dv">10</span>)</span></code></pre></div>
<pre><code>## [1] 1</code></pre>
<ul>
<li>You can create objects inside a function and these will be erased after executing the function</li>
</ul>
<div class="sourceCode" id="cb460"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb460-1"><a href="introduction-to-r.html#cb460-1" aria-hidden="true" tabindex="-1"></a>dummy_function <span class="ot">&lt;-</span> <span class="cf">function</span>(x) {</span>
<span id="cb460-2"><a href="introduction-to-r.html#cb460-2" aria-hidden="true" tabindex="-1"></a>  z <span class="ot">&lt;-</span> <span class="dv">10</span></span>
<span id="cb460-3"><a href="introduction-to-r.html#cb460-3" aria-hidden="true" tabindex="-1"></a>  x <span class="sc">*</span> z</span>
<span id="cb460-4"><a href="introduction-to-r.html#cb460-4" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb460-5"><a href="introduction-to-r.html#cb460-5" aria-hidden="true" tabindex="-1"></a><span class="fu">dummy_function</span>(<span class="dv">10</span>)</span></code></pre></div>
<pre><code>## [1] 100</code></pre>
<div class="sourceCode" id="cb462"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb462-1"><a href="introduction-to-r.html#cb462-1" aria-hidden="true" tabindex="-1"></a>z </span></code></pre></div>
<pre><code>## Error in eval(expr, envir, enclos): object &#39;z&#39; not found</code></pre>
<ul>
<li>R will look for object in the global environment if they are not defined inside a function.</li>
</ul>
<div class="sourceCode" id="cb464"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb464-1"><a href="introduction-to-r.html#cb464-1" aria-hidden="true" tabindex="-1"></a>z <span class="ot">&lt;-</span> <span class="dv">2</span></span>
<span id="cb464-2"><a href="introduction-to-r.html#cb464-2" aria-hidden="true" tabindex="-1"></a>dummy_function <span class="ot">&lt;-</span> <span class="cf">function</span>(x) {</span>
<span id="cb464-3"><a href="introduction-to-r.html#cb464-3" aria-hidden="true" tabindex="-1"></a>  x <span class="sc">*</span> z </span>
<span id="cb464-4"><a href="introduction-to-r.html#cb464-4" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb464-5"><a href="introduction-to-r.html#cb464-5" aria-hidden="true" tabindex="-1"></a><span class="fu">dummy_function</span>(<span class="dv">10</span>)</span></code></pre></div>
<pre><code>## [1] 20</code></pre>
<div class="sourceCode" id="cb466"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb466-1"><a href="introduction-to-r.html#cb466-1" aria-hidden="true" tabindex="-1"></a>z <span class="co"># Keeps the value 2</span></span></code></pre></div>
<pre><code>## [1] 2</code></pre>
<p>However, if you create an object inside a function with the same name as an object in the global environment, the function will use the object defined inside the function’s body.</p>
<div class="sourceCode" id="cb468"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb468-1"><a href="introduction-to-r.html#cb468-1" aria-hidden="true" tabindex="-1"></a>z <span class="ot">&lt;-</span> <span class="dv">2</span></span>
<span id="cb468-2"><a href="introduction-to-r.html#cb468-2" aria-hidden="true" tabindex="-1"></a>dummy_function <span class="ot">&lt;-</span> <span class="cf">function</span>(x) {</span>
<span id="cb468-3"><a href="introduction-to-r.html#cb468-3" aria-hidden="true" tabindex="-1"></a>  z <span class="ot">&lt;-</span> <span class="dv">5</span></span>
<span id="cb468-4"><a href="introduction-to-r.html#cb468-4" aria-hidden="true" tabindex="-1"></a>  x <span class="sc">*</span> z</span>
<span id="cb468-5"><a href="introduction-to-r.html#cb468-5" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb468-6"><a href="introduction-to-r.html#cb468-6" aria-hidden="true" tabindex="-1"></a><span class="fu">dummy_function</span>(<span class="dv">10</span>)</span></code></pre></div>
<pre><code>## [1] 50</code></pre>
<div class="sourceCode" id="cb470"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb470-1"><a href="introduction-to-r.html#cb470-1" aria-hidden="true" tabindex="-1"></a>z <span class="co"># Keeps the value 2</span></span></code></pre></div>
<pre><code>## [1] 2</code></pre>
<ul>
<li>R does not alter objects given as input of a function. Instead, it creates copies.</li>
</ul>
<div class="sourceCode" id="cb472"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb472-1"><a href="introduction-to-r.html#cb472-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">6</span>, <span class="dv">1</span>, <span class="dv">9</span>)</span>
<span id="cb472-2"><a href="introduction-to-r.html#cb472-2" aria-hidden="true" tabindex="-1"></a>dummy_function <span class="ot">&lt;-</span> <span class="cf">function</span>(x) {</span>
<span id="cb472-3"><a href="introduction-to-r.html#cb472-3" aria-hidden="true" tabindex="-1"></a>  x <span class="ot">&lt;-</span> <span class="fu">sort</span>(x)</span>
<span id="cb472-4"><a href="introduction-to-r.html#cb472-4" aria-hidden="true" tabindex="-1"></a>  x</span>
<span id="cb472-5"><a href="introduction-to-r.html#cb472-5" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb472-6"><a href="introduction-to-r.html#cb472-6" aria-hidden="true" tabindex="-1"></a><span class="fu">dummy_function</span>(x)</span></code></pre></div>
<pre><code>## [1] 1 2 6 9</code></pre>
<div class="sourceCode" id="cb474"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb474-1"><a href="introduction-to-r.html#cb474-1" aria-hidden="true" tabindex="-1"></a>x </span></code></pre></div>
<pre><code>## [1] 2 6 1 9</code></pre>
</div>
<div id="packages" class="section level2 hasAnchor" number="1.7">
<h2><span class="header-section-number">1.7</span> Packages<a href="introduction-to-r.html#packages" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>R comes with a preloaded selection of functions. However, contributors can make their functions available via an R package. In fact, you can make your function available in the form of an R package. The general way to install a package in CRAN is as follows:</p>
<pre><code>install.packages(&quot;package_name&quot;)</code></pre>
<p>Try it by installign the <code>actuar</code> package:</p>
<div class="sourceCode" id="cb477"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb477-1"><a href="introduction-to-r.html#cb477-1" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">&quot;actuar&quot;</span>)</span></code></pre></div>
<p>You can install multiple package using <code>c()</code>.</p>
<div class="sourceCode" id="cb478"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb478-1"><a href="introduction-to-r.html#cb478-1" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="fu">c</span>(<span class="st">&quot;ggplot2&quot;</span>, <span class="st">&quot;devtools&quot;</span>))</span></code></pre></div>
<p>Once a package is installed, you need to call it using the <code>library()</code> command in order to access all its functionalities.</p>
<pre><code>library(package_name)</code></pre>
<p>For instance,</p>
<div class="sourceCode" id="cb480"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb480-1"><a href="introduction-to-r.html#cb480-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(actuar)</span></code></pre></div>
<p>R packages in CRAN are updated regularly with new functions, fix bugs, performance improvements, etc. To update an R package, you can use the <code>update.packages()</code> function. The syntax is similar to <code>install.packages()</code>, for instance</p>
<div class="sourceCode" id="cb481"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb481-1"><a href="introduction-to-r.html#cb481-1" aria-hidden="true" tabindex="-1"></a><span class="fu">update.packages</span>(<span class="fu">c</span>(<span class="st">&quot;ggplot2&quot;</span>, <span class="st">&quot;devtools&quot;</span>))</span></code></pre></div>
<p>If a package in CRAN is not updated regularly, it can be potentially be removed from CRAN. This means that sometimes, when a package has not been updated for a while, you will not be able to install it using <code>install.packages()</code>. Try, for instance, with the <code>CASdatasets</code> package:</p>
<div class="sourceCode" id="cb482"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb482-1"><a href="introduction-to-r.html#cb482-1" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">&quot;CASdatasets&quot;</span>)</span></code></pre></div>
<p>However, the source code of an older version may be still available, and you can use that to install the package using the command</p>
<div class="sourceCode" id="cb483"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb483-1"><a href="introduction-to-r.html#cb483-1" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(path_to_file, <span class="at">repos =</span> <span class="cn">NULL</span>, <span class="at">type =</span> <span class="st">&quot;source&quot;</span>)</span></code></pre></div>
<p>where <code>path_to_file</code> is the location and name of the file. Following the example of <code>CASdatasets</code> package, it is available to download at <a href="http://cas.uqam.ca" class="uri">http://cas.uqam.ca</a>. Try to install this package from source (you may need to install first the packages <code>xts</code> and <code>sp</code>).
As we previously mentioned, packages in CRAN are updated regularly. This means that their functionality may change over time by adding, modifying, or even erasing functions. Fortunately, CRAN keeps an archive or previous versions of each package. Hence, the previous method can also be used to install an older version of a package.</p>
<div class="remark">
<p><span id="unlabeled-div-17" class="remark"><em>Remark</em>. </span>Submitting a package to CRAN requires to pass certain tests, document properly, and keep updating constantly. That is why some developers make available their code in other places, for instance, GitHub. You can install a package from almost anywhere using the <code>devtools</code> package. For example, to install a package in GitHub you would need the function <code>install_github()</code>.</p>
</div>
<p>Finally, if after loading a package you require to detach it you can use the <code>detach()</code> function:</p>
<div class="sourceCode" id="cb484"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb484-1"><a href="introduction-to-r.html#cb484-1" aria-hidden="true" tabindex="-1"></a><span class="fu">detach</span>(<span class="st">&quot;package:ggplot2&quot;</span>, <span class="at">unload =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<p>You can also remove packages from your library with the <code>remove.packages()</code> function:</p>
<div class="sourceCode" id="cb485"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb485-1"><a href="introduction-to-r.html#cb485-1" aria-hidden="true" tabindex="-1"></a><span class="fu">remove.packages</span>(<span class="st">&quot;ggplot2&quot;</span>)</span></code></pre></div>
<div class="remark">
<p><span id="unlabeled-div-18" class="remark"><em>Remark</em>. </span>Installing, loading, updating, detaching and erasing packages can also be done in the <strong>Packages</strong> tab of Rstudio.</p>
</div>
</div>
<div id="control-statements" class="section level2 hasAnchor" number="1.8">
<h2><span class="header-section-number">1.8</span> Control Statements<a href="introduction-to-r.html#control-statements" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="conditional-statements" class="section level3 hasAnchor" number="1.8.1">
<h3><span class="header-section-number">1.8.1</span> Conditional statements<a href="introduction-to-r.html#conditional-statements" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Conditional statements evaluate if a condition is <code>TRUE</code> and perform an action depending on the result. We start with the <code>if</code> statement. Its structure is as follows:</p>
<pre><code>if (condition) {
  action(s)
}</code></pre>
<p>Below, there is a very simple example:</p>
<div class="sourceCode" id="cb487"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb487-1"><a href="introduction-to-r.html#cb487-1" aria-hidden="true" tabindex="-1"></a>claim <span class="ot">&lt;-</span> <span class="dv">50</span></span>
<span id="cb487-2"><a href="introduction-to-r.html#cb487-2" aria-hidden="true" tabindex="-1"></a>deductible <span class="ot">&lt;-</span> <span class="dv">40</span></span>
<span id="cb487-3"><a href="introduction-to-r.html#cb487-3" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (claim <span class="sc">&gt;</span> deductible) {</span>
<span id="cb487-4"><a href="introduction-to-r.html#cb487-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(<span class="st">&quot;Pay claim&quot;</span>)</span>
<span id="cb487-5"><a href="introduction-to-r.html#cb487-5" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<pre><code>## [1] &quot;Pay claim&quot;</code></pre>
<p>In this case, the <code>claim</code> is larger (<code>&gt;</code>) than our <code>deductible</code>, so our condition is <code>TRUE</code>. Thus, R will execute the code contained inside <code>{}</code>. In this case, print “Pay claim”.</p>
<div class="remark">
<p><span id="unlabeled-div-19" class="remark"><em>Remark</em>. </span>If you code after the <code>if</code> statement is only one line, <code>{}</code> can be committed. For instance, the above code could have been written as follow:</p>
<div class="sourceCode" id="cb489"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb489-1"><a href="introduction-to-r.html#cb489-1" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (claim <span class="sc">&gt;</span> deductible) </span>
<span id="cb489-2"><a href="introduction-to-r.html#cb489-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(<span class="st">&quot;Pay claim&quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;Pay claim&quot;</code></pre>
</div>
<p>Sometimes we want to perform an action in case of condition is <code>FALSE</code>. In such a case, we can use the <code>else</code> statement.</p>
<pre><code>if (condition) {
  action(s) in case of TRUE
} else {
  action(s) in case of FALSE
}</code></pre>
<p>Here there is a simple example:</p>
<div class="sourceCode" id="cb492"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb492-1"><a href="introduction-to-r.html#cb492-1" aria-hidden="true" tabindex="-1"></a>claim <span class="ot">&lt;-</span> <span class="dv">30</span></span>
<span id="cb492-2"><a href="introduction-to-r.html#cb492-2" aria-hidden="true" tabindex="-1"></a>deductible <span class="ot">&lt;-</span> <span class="dv">40</span></span>
<span id="cb492-3"><a href="introduction-to-r.html#cb492-3" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (claim <span class="sc">&gt;</span> deductible) {</span>
<span id="cb492-4"><a href="introduction-to-r.html#cb492-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(<span class="st">&quot;Pay claim&quot;</span>)</span>
<span id="cb492-5"><a href="introduction-to-r.html#cb492-5" aria-hidden="true" tabindex="-1"></a>} <span class="cf">else</span> {</span>
<span id="cb492-6"><a href="introduction-to-r.html#cb492-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(<span class="st">&quot;Do not pay claim&quot;</span>)</span>
<span id="cb492-7"><a href="introduction-to-r.html#cb492-7" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<pre><code>## [1] &quot;Do not pay claim&quot;</code></pre>
<div class="remark">
<p><span id="unlabeled-div-20" class="remark"><em>Remark</em>. </span>When if/else statements are simple, one can also make use of the <code>ifelse()</code> function:</p>
<div class="sourceCode" id="cb494"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb494-1"><a href="introduction-to-r.html#cb494-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ifelse</span>(claim <span class="sc">&gt;</span> deductible, <span class="st">&quot;Pay claim&quot;</span>, <span class="st">&quot;Do not pay claim&quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;Do not pay claim&quot;</code></pre>
<p>An advantage of the <code>ifelse()</code> function is that it can evaluate vectors.</p>
<div class="sourceCode" id="cb496"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb496-1"><a href="introduction-to-r.html#cb496-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>)</span>
<span id="cb496-2"><a href="introduction-to-r.html#cb496-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ifelse</span>(x <span class="sc">%%</span> <span class="dv">2</span> <span class="sc">==</span> <span class="dv">0</span>, <span class="st">&quot;even&quot;</span>, <span class="st">&quot;odd&quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;odd&quot;  &quot;even&quot; &quot;odd&quot;  &quot;even&quot;</code></pre>
</div>
<p>What if we want to evaluate several if/else conditions? We can use <code>if else</code> statements to do so.</p>
<pre><code>if (condition1) {
  action(s) in case condition1 TRUE
} else if (condition2) {
  action(s) in case condition2 TRUE
} else {
  action(s) in case condition1 and condition2 FALSE
}</code></pre>
<div class="sourceCode" id="cb499"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb499-1"><a href="introduction-to-r.html#cb499-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="dv">70</span></span>
<span id="cb499-2"><a href="introduction-to-r.html#cb499-2" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (x <span class="sc">&lt;</span> <span class="dv">50</span>) {</span>
<span id="cb499-3"><a href="introduction-to-r.html#cb499-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(<span class="st">&quot;low number&quot;</span>)</span>
<span id="cb499-4"><a href="introduction-to-r.html#cb499-4" aria-hidden="true" tabindex="-1"></a>} <span class="cf">else</span> <span class="cf">if</span> (<span class="dv">50</span> <span class="sc">&lt;=</span> x <span class="sc">&amp;</span> x <span class="sc">&lt;=</span> <span class="dv">80</span>) {</span>
<span id="cb499-5"><a href="introduction-to-r.html#cb499-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(<span class="st">&quot;medium number&quot;</span>)</span>
<span id="cb499-6"><a href="introduction-to-r.html#cb499-6" aria-hidden="true" tabindex="-1"></a>} <span class="cf">else</span> {</span>
<span id="cb499-7"><a href="introduction-to-r.html#cb499-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(<span class="st">&quot;high number&quot;</span>)</span>
<span id="cb499-8"><a href="introduction-to-r.html#cb499-8" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<pre><code>## [1] &quot;medium number&quot;</code></pre>
</div>
<div id="loop-statements" class="section level3 hasAnchor" number="1.8.2">
<h3><span class="header-section-number">1.8.2</span> Loop statements<a href="introduction-to-r.html#loop-statements" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Loops statements are used to repeat code. R has two loop statements: <code>for</code> and <code>while</code>.</p>
<div id="while-statements" class="section level4 unnumbered hasAnchor">
<h4>while statements<a href="introduction-to-r.html#while-statements" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>A <code>while</code> statement repeats lines of code while a certain condition is <code>TRUE</code> and it stops when it is <code>FALSE</code>. The general structure of a <code>while</code> loop is the following:</p>
<pre><code>while (condition) {
  action(s)
}</code></pre>
<p>We now give a simple example.</p>
<div class="example">
<p><span id="exm:intsum" class="example"><strong>Example 1.4  </strong></span>Using a <code>while</code> loop, compute the sum from 1 to 20.</p>
</div>
<div class="solution">
<p><span id="unlabeled-div-21" class="solution"><em>Solution</em>. </span><span class="math inline">\(\,\)</span></p>
<div class="sourceCode" id="cb502"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb502-1"><a href="introduction-to-r.html#cb502-1" aria-hidden="true" tabindex="-1"></a>sum_int <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb502-2"><a href="introduction-to-r.html#cb502-2" aria-hidden="true" tabindex="-1"></a>i <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb502-3"><a href="introduction-to-r.html#cb502-3" aria-hidden="true" tabindex="-1"></a><span class="cf">while</span> (i <span class="sc">&lt;=</span> <span class="dv">20</span>) {</span>
<span id="cb502-4"><a href="introduction-to-r.html#cb502-4" aria-hidden="true" tabindex="-1"></a>  sum_int <span class="ot">&lt;-</span> sum_int <span class="sc">+</span> i</span>
<span id="cb502-5"><a href="introduction-to-r.html#cb502-5" aria-hidden="true" tabindex="-1"></a>  i <span class="ot">&lt;-</span> i <span class="sc">+</span> <span class="dv">1</span></span>
<span id="cb502-6"><a href="introduction-to-r.html#cb502-6" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb502-7"><a href="introduction-to-r.html#cb502-7" aria-hidden="true" tabindex="-1"></a>sum_int</span></code></pre></div>
<pre><code>## [1] 210</code></pre>
</div>
</div>
<div id="for-statements" class="section level4 unnumbered hasAnchor">
<h4>for statements<a href="introduction-to-r.html#for-statements" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>When we know exactly how many times we need to repeat a loop, we can use a <code>for</code> loop. The format of this statement is given below:</p>
<pre><code>for (index in vector) {
  action(s)
}</code></pre>
<p>The most common way to use a <code>for</code> loop is in conjuction with the <code>:</code> operator. For instance, if we want to repeat Example <a href="introduction-to-r.html#exm:intsum">1.4</a> with a <code>for</code> loop, it can be done as follows:</p>
<div class="sourceCode" id="cb505"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb505-1"><a href="introduction-to-r.html#cb505-1" aria-hidden="true" tabindex="-1"></a>sum_int <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb505-2"><a href="introduction-to-r.html#cb505-2" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">20</span>) {</span>
<span id="cb505-3"><a href="introduction-to-r.html#cb505-3" aria-hidden="true" tabindex="-1"></a>  sum_int <span class="ot">&lt;-</span> sum_int <span class="sc">+</span> i <span class="co"># value of i changes automatically</span></span>
<span id="cb505-4"><a href="introduction-to-r.html#cb505-4" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb505-5"><a href="introduction-to-r.html#cb505-5" aria-hidden="true" tabindex="-1"></a>sum_int</span></code></pre></div>
<pre><code>## [1] 210</code></pre>
<p>However, you can use a <code>for</code> loop with any other vector.</p>
<div class="sourceCode" id="cb507"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb507-1"><a href="introduction-to-r.html#cb507-1" aria-hidden="true" tabindex="-1"></a>capital <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb507-2"><a href="introduction-to-r.html#cb507-2" aria-hidden="true" tabindex="-1"></a>yr_rates <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fl">0.05</span>, <span class="fl">0.03</span>, <span class="fl">0.02</span>)</span>
<span id="cb507-3"><a href="introduction-to-r.html#cb507-3" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (r <span class="cf">in</span> yr_rates) {</span>
<span id="cb507-4"><a href="introduction-to-r.html#cb507-4" aria-hidden="true" tabindex="-1"></a>  capital <span class="ot">&lt;-</span> capital <span class="sc">*</span> (<span class="dv">1</span> <span class="sc">+</span> r)</span>
<span id="cb507-5"><a href="introduction-to-r.html#cb507-5" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb507-6"><a href="introduction-to-r.html#cb507-6" aria-hidden="true" tabindex="-1"></a>capital</span></code></pre></div>
<pre><code>## [1] 1.10313</code></pre>
</div>
</div>
</div>
<div id="vectorized-operations" class="section level2 hasAnchor" number="1.9">
<h2><span class="header-section-number">1.9</span> Vectorized operations<a href="introduction-to-r.html#vectorized-operations" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>R has been thoughtfully optimized for several operations with vector (and matrix) objects. This is commonly called “vectorization” and allows you to write concise, efficient, and easy-to-read code. For instance, let us come back to the sum of two vectors. This can be done as follows:</p>
<div class="sourceCode" id="cb509"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb509-1"><a href="introduction-to-r.html#cb509-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">10</span></span>
<span id="cb509-2"><a href="introduction-to-r.html#cb509-2" aria-hidden="true" tabindex="-1"></a>y <span class="ot">&lt;-</span> <span class="dv">11</span><span class="sc">:</span><span class="dv">20</span></span>
<span id="cb509-3"><a href="introduction-to-r.html#cb509-3" aria-hidden="true" tabindex="-1"></a>x <span class="sc">+</span> y</span></code></pre></div>
<pre><code>##  [1] 12 14 16 18 20 22 24 26 28 30</code></pre>
<p>However, the same calculation can be done with a <code>for</code> loop (without vectorization):</p>
<div class="sourceCode" id="cb511"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb511-1"><a href="introduction-to-r.html#cb511-1" aria-hidden="true" tabindex="-1"></a>z <span class="ot">&lt;-</span> <span class="fu">numeric</span>(<span class="fu">length</span>(x))</span>
<span id="cb511-2"><a href="introduction-to-r.html#cb511-2" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(x)) {</span>
<span id="cb511-3"><a href="introduction-to-r.html#cb511-3" aria-hidden="true" tabindex="-1"></a>  z[i] <span class="ot">&lt;-</span> x[i] <span class="sc">+</span> y[i]</span>
<span id="cb511-4"><a href="introduction-to-r.html#cb511-4" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb511-5"><a href="introduction-to-r.html#cb511-5" aria-hidden="true" tabindex="-1"></a>z</span></code></pre></div>
<pre><code>##  [1] 12 14 16 18 20 22 24 26 28 30</code></pre>
<p>You can see that the first code is simpler to read and easier to implement (less typing). Well, it turns out that it is also more efficient. To see this, we need to measure the time each code takes to perform the same calculation, and we case use the <code>microbenchmark</code> package to do it. First, you need to install the package.</p>
<div class="sourceCode" id="cb513"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb513-1"><a href="introduction-to-r.html#cb513-1" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">&quot;microbenchmark&quot;</span>)</span></code></pre></div>
<p>To use the functionalities of <code>microbenchmark</code>, we then need to pass our previous code to functions:</p>
<div class="sourceCode" id="cb514"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb514-1"><a href="introduction-to-r.html#cb514-1" aria-hidden="true" tabindex="-1"></a>sum_vect <span class="ot">&lt;-</span> <span class="cf">function</span>(x, y) {</span>
<span id="cb514-2"><a href="introduction-to-r.html#cb514-2" aria-hidden="true" tabindex="-1"></a>  x <span class="sc">+</span> y</span>
<span id="cb514-3"><a href="introduction-to-r.html#cb514-3" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb514-4"><a href="introduction-to-r.html#cb514-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb514-5"><a href="introduction-to-r.html#cb514-5" aria-hidden="true" tabindex="-1"></a>sum_no_vect <span class="ot">&lt;-</span> <span class="cf">function</span>(x, y) {</span>
<span id="cb514-6"><a href="introduction-to-r.html#cb514-6" aria-hidden="true" tabindex="-1"></a>  z <span class="ot">&lt;-</span> <span class="fu">numeric</span>(<span class="fu">length</span>(x))</span>
<span id="cb514-7"><a href="introduction-to-r.html#cb514-7" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(x)) {</span>
<span id="cb514-8"><a href="introduction-to-r.html#cb514-8" aria-hidden="true" tabindex="-1"></a>    z[i] <span class="ot">&lt;-</span> x[i] <span class="sc">+</span> y[i]</span>
<span id="cb514-9"><a href="introduction-to-r.html#cb514-9" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb514-10"><a href="introduction-to-r.html#cb514-10" aria-hidden="true" tabindex="-1"></a>  z</span>
<span id="cb514-11"><a href="introduction-to-r.html#cb514-11" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<p>We now use <code>microbenchmark()</code> to measure the running times of the above functions:</p>
<div class="sourceCode" id="cb515"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb515-1"><a href="introduction-to-r.html#cb515-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(microbenchmark)</span>
<span id="cb515-2"><a href="introduction-to-r.html#cb515-2" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">10</span></span>
<span id="cb515-3"><a href="introduction-to-r.html#cb515-3" aria-hidden="true" tabindex="-1"></a>y <span class="ot">&lt;-</span> <span class="dv">11</span><span class="sc">:</span><span class="dv">20</span></span>
<span id="cb515-4"><a href="introduction-to-r.html#cb515-4" aria-hidden="true" tabindex="-1"></a><span class="fu">microbenchmark</span>(<span class="fu">sum_vect</span>(x, y), <span class="fu">sum_no_vect</span>(x, y), <span class="at">times =</span> <span class="dv">10</span>)</span></code></pre></div>
<pre><code>## Warning in microbenchmark(sum_vect(x, y), sum_no_vect(x, y), times = 10): less
## accurate nanosecond times to avoid potential integer overflows</code></pre>
<pre><code>## Unit: nanoseconds
##               expr  min   lq     mean median   uq     max neval
##     sum_vect(x, y)  246  246  40823.7  307.5  410  397536    10
##  sum_no_vect(x, y) 1066 1107 228452.0 1148.0 1763 2273040    10</code></pre>
<p>You can see that the performance of the vectorized version is around 5 times faster than the implementation using a <code>for</code> loop. In conclusion, you should aim to do as many vectorized operations as possible in your code.</p>
</div>
<div id="reading-and-writing-data" class="section level2 hasAnchor" number="1.10">
<h2><span class="header-section-number">1.10</span> Reading and writing data<a href="introduction-to-r.html#reading-and-writing-data" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>In practice, data is commonly provided in the form of an external file. This can be a plain text file (.txt), a comma separated values file (.csv), an MS Excel file, etc. Hence, it is necessary that we learn how to read and write data in different file formats.</p>
<div id="working-directory" class="section level3 hasAnchor" number="1.10.1">
<h3><span class="header-section-number">1.10.1</span> Working directory<a href="introduction-to-r.html#working-directory" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>One concept that is fundamental for reading and writing data is the one of “working directory.” This is the directory where R will first look for files. To see your current working directory, you can use the <code>getwd()</code> function.</p>
<div class="sourceCode" id="cb518"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb518-1"><a href="introduction-to-r.html#cb518-1" aria-hidden="true" tabindex="-1"></a><span class="fu">getwd</span>()</span></code></pre></div>
<p>If you want to change it to a different directory, this is done with the <code>setwd()</code> function.</p>
<div class="sourceCode" id="cb519"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb519-1"><a href="introduction-to-r.html#cb519-1" aria-hidden="true" tabindex="-1"></a><span class="fu">setwd</span>(<span class="st">&quot;directory&quot;</span>)</span></code></pre></div>
<p>However, this can also be done using the Rstudio interface. For instance, to see your current working directory, you can go to the <strong>Files</strong> tab, click <code>More</code> and then select <code>Go to Working Directory</code>. If you want to set a new working directory, this can be done by going to the <strong>Files</strong> tab, look for the directory that you want as working directory, click <code>More</code> and then select <code>Set as Working Directory</code>. Alternatively, you can go to the <code>Session</code> menu, <code>Set Working Directory</code>, and then select one of the options available.</p>
</div>
<div id="writting-data" class="section level3 hasAnchor" number="1.10.2">
<h3><span class="header-section-number">1.10.2</span> Writting data<a href="introduction-to-r.html#writting-data" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>To storage data into a file, we can use the <code>write.table()</code> and <code>write.csv()</code> functions. Typically, the object to be written would be a data frame or a matrix. Hence, let us consider the following data frame:</p>
<div class="sourceCode" id="cb520"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb520-1"><a href="introduction-to-r.html#cb520-1" aria-hidden="true" tabindex="-1"></a>names <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;student1&quot;</span>, <span class="st">&quot;student2&quot;</span>, <span class="st">&quot;student3&quot;</span>, <span class="st">&quot;student4&quot;</span>)</span>
<span id="cb520-2"><a href="introduction-to-r.html#cb520-2" aria-hidden="true" tabindex="-1"></a>grades <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">90</span>, <span class="dv">95</span>, <span class="dv">85</span>, <span class="dv">70</span>)</span>
<span id="cb520-3"><a href="introduction-to-r.html#cb520-3" aria-hidden="true" tabindex="-1"></a>students <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(names, grades)</span>
<span id="cb520-4"><a href="introduction-to-r.html#cb520-4" aria-hidden="true" tabindex="-1"></a>students</span></code></pre></div>
<pre><code>##      names grades
## 1 student1     90
## 2 student2     95
## 3 student3     85
## 4 student4     70</code></pre>
<p>Now we can use <code>write.table()</code> to write the data. For intance,</p>
<div class="sourceCode" id="cb522"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb522-1"><a href="introduction-to-r.html#cb522-1" aria-hidden="true" tabindex="-1"></a><span class="fu">write.table</span>(students, <span class="at">file =</span> <span class="st">&quot;students.txt&quot;</span>)</span></code></pre></div>
<p>This would produce a file that looks like this :</p>
<pre><code>&quot;names&quot; &quot;grades&quot;
&quot;1&quot; &quot;student1&quot; 90
&quot;2&quot; &quot;student2&quot; 95
&quot;3&quot; &quot;student3&quot; 85
&quot;4&quot; &quot;student4&quot; 70</code></pre>
<p>By default, <code>write.table()</code> separates the data with a space, and includes the column and row names. We can adjust the above code, to make a comma separated values file (.csv) that does not includes the row names.</p>
<div class="sourceCode" id="cb524"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb524-1"><a href="introduction-to-r.html#cb524-1" aria-hidden="true" tabindex="-1"></a><span class="fu">write.table</span>(students, <span class="at">file =</span> <span class="st">&quot;students.csv&quot;</span>, <span class="at">sep =</span> <span class="st">&quot;,&quot;</span>, <span class="at">row.names =</span> <span class="cn">FALSE</span>)</span></code></pre></div>
<p>Now the file looks like this:</p>
<pre><code>&quot;names&quot;,&quot;grades&quot;
&quot;student1&quot;,90
&quot;student2&quot;,95
&quot;student3&quot;,85
&quot;student4&quot;,70</code></pre>
<p>Since csv files are easier to read for most programs (including MS Excel), we have a specific function to write this type of files: <code>write.csv()</code>.</p>
<div class="sourceCode" id="cb526"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb526-1"><a href="introduction-to-r.html#cb526-1" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(students, <span class="at">file =</span> <span class="st">&quot;students.csv&quot;</span>, <span class="at">row.names =</span> <span class="cn">FALSE</span>)</span></code></pre></div>
<p>The above code generates exactly the same csv file as before.</p>
</div>
<div id="reading-data" class="section level3 hasAnchor" number="1.10.3">
<h3><span class="header-section-number">1.10.3</span> Reading data<a href="introduction-to-r.html#reading-data" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Reading data in the form of text can be done with the <code>read.table()</code> and <code>read.csv()</code> functions.</p>
<p>For example, if we now want to read the csv file produced before, we can do it as follows:</p>
<div class="sourceCode" id="cb527"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb527-1"><a href="introduction-to-r.html#cb527-1" aria-hidden="true" tabindex="-1"></a>the_students <span class="ot">&lt;-</span> <span class="fu">read.table</span>(<span class="st">&quot;students.csv&quot;</span>, <span class="at">header =</span> <span class="cn">TRUE</span>, <span class="at">sep =</span> <span class="st">&quot;,&quot;</span>) <span class="co"># Our file is comma delimited and with headers</span></span>
<span id="cb527-2"><a href="introduction-to-r.html#cb527-2" aria-hidden="true" tabindex="-1"></a>the_students</span></code></pre></div>
<pre><code>##      names grades
## 1 student1     90
## 2 student2     95
## 3 student3     85
## 4 student4     70</code></pre>
<p>With the above, the data is now inside a data frame. Alternatively, we could have used the <code>read.csv()</code> function:</p>
<div class="sourceCode" id="cb529"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb529-1"><a href="introduction-to-r.html#cb529-1" aria-hidden="true" tabindex="-1"></a>the_students <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">&quot;students.csv&quot;</span>, <span class="at">header =</span> <span class="cn">TRUE</span>) </span></code></pre></div>
<div class="remark">
<p><span id="unlabeled-div-22" class="remark"><em>Remark</em>. </span><span class="math inline">\(\,\)</span></p>
<ul>
<li>Importing data can also be done with Rstudio. Simply click <code>Import Dataset</code> in the tab <strong>Environment</strong>.</li>
<li>To import data from Excel, perhaps the easier method is to export the worksheet that contains your data to a csv file and then read it in R as described above. However, you can also use an R package such as <code>readxl</code>, which provides the function <code>read_excel()</code> to do so.</li>
</ul>
</div>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="index.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="r-for-statistical-inference.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["_main.pdf"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
